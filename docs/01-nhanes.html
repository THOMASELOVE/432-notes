<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Science for Biological, Medical and Health Research - 1&nbsp; Building the nh432 example</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02-nh432cb.html" rel="next">
<link href="./setup.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Building the <code>nh432</code> example</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Science for Biological, Medical and Health Research</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">R Setup</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-nhanes.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Building the <code>nh432</code> example</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-nh432cb.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Codebook for <code>nh432</code></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-431review1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">431 Review: Comparing Means</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-431review2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">431 Review: Comparing Rates</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-431review3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">431 Review: Fitting Linear Models</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./90-incomplete.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Please note</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#r-setup" id="toc-r-setup" class="nav-link active" data-scroll-target="#r-setup"><span class="toc-section-number">1.1</span>  R Setup</a></li>
  <li><a href="#selecting-nhanes-variables" id="toc-selecting-nhanes-variables" class="nav-link" data-scroll-target="#selecting-nhanes-variables"><span class="toc-section-number">1.2</span>  Selecting NHANES Variables</a>
  <ul class="collapse">
  <li><a href="#demographics-and-sample-weights" id="toc-demographics-and-sample-weights" class="nav-link" data-scroll-target="#demographics-and-sample-weights"><span class="toc-section-number">1.2.1</span>  Demographics and Sample Weights</a></li>
  <li><a href="#oral-health" id="toc-oral-health" class="nav-link" data-scroll-target="#oral-health"><span class="toc-section-number">1.2.2</span>  Oral Health</a></li>
  <li><a href="#hospital-utilization-access-to-care" id="toc-hospital-utilization-access-to-care" class="nav-link" data-scroll-target="#hospital-utilization-access-to-care"><span class="toc-section-number">1.2.3</span>  Hospital Utilization &amp; Access to Care</a></li>
  <li><a href="#body-measures" id="toc-body-measures" class="nav-link" data-scroll-target="#body-measures"><span class="toc-section-number">1.2.4</span>  Body Measures</a></li>
  <li><a href="#blood-pressure" id="toc-blood-pressure" class="nav-link" data-scroll-target="#blood-pressure"><span class="toc-section-number">1.2.5</span>  Blood Pressure</a></li>
  <li><a href="#complete-blood-count" id="toc-complete-blood-count" class="nav-link" data-scroll-target="#complete-blood-count"><span class="toc-section-number">1.2.6</span>  Complete Blood Count</a></li>
  <li><a href="#c-reactive-protein" id="toc-c-reactive-protein" class="nav-link" data-scroll-target="#c-reactive-protein"><span class="toc-section-number">1.2.7</span>  C-Reactive Protein</a></li>
  <li><a href="#alcohol-use" id="toc-alcohol-use" class="nav-link" data-scroll-target="#alcohol-use"><span class="toc-section-number">1.2.8</span>  Alcohol Use</a></li>
  <li><a href="#dermatology" id="toc-dermatology" class="nav-link" data-scroll-target="#dermatology"><span class="toc-section-number">1.2.9</span>  Dermatology</a></li>
  <li><a href="#depression-screener" id="toc-depression-screener" class="nav-link" data-scroll-target="#depression-screener"><span class="toc-section-number">1.2.10</span>  Depression Screener</a></li>
  <li><a href="#diet-behavior" id="toc-diet-behavior" class="nav-link" data-scroll-target="#diet-behavior"><span class="toc-section-number">1.2.11</span>  Diet Behavior</a></li>
  <li><a href="#food-security" id="toc-food-security" class="nav-link" data-scroll-target="#food-security"><span class="toc-section-number">1.2.12</span>  Food Security</a></li>
  <li><a href="#health-insurance" id="toc-health-insurance" class="nav-link" data-scroll-target="#health-insurance"><span class="toc-section-number">1.2.13</span>  Health Insurance</a></li>
  <li><a href="#medical-conditions" id="toc-medical-conditions" class="nav-link" data-scroll-target="#medical-conditions"><span class="toc-section-number">1.2.14</span>  Medical Conditions</a></li>
  <li><a href="#oral-health-1" id="toc-oral-health-1" class="nav-link" data-scroll-target="#oral-health-1"><span class="toc-section-number">1.2.15</span>  Oral Health</a></li>
  <li><a href="#physical-activity" id="toc-physical-activity" class="nav-link" data-scroll-target="#physical-activity"><span class="toc-section-number">1.2.16</span>  Physical Activity</a></li>
  <li><a href="#reproductive-health" id="toc-reproductive-health" class="nav-link" data-scroll-target="#reproductive-health"><span class="toc-section-number">1.2.17</span>  Reproductive Health</a></li>
  <li><a href="#sleep-disorders" id="toc-sleep-disorders" class="nav-link" data-scroll-target="#sleep-disorders"><span class="toc-section-number">1.2.18</span>  Sleep Disorders</a></li>
  <li><a href="#smoking-cigarettes" id="toc-smoking-cigarettes" class="nav-link" data-scroll-target="#smoking-cigarettes"><span class="toc-section-number">1.2.19</span>  Smoking Cigarettes</a></li>
  <li><a href="#secondhand-smoke" id="toc-secondhand-smoke" class="nav-link" data-scroll-target="#secondhand-smoke"><span class="toc-section-number">1.2.20</span>  Secondhand Smoke</a></li>
  <li><a href="#weight-history" id="toc-weight-history" class="nav-link" data-scroll-target="#weight-history"><span class="toc-section-number">1.2.21</span>  Weight History</a></li>
  </ul></li>
  <li><a href="#filtering-for-inclusion" id="toc-filtering-for-inclusion" class="nav-link" data-scroll-target="#filtering-for-inclusion"><span class="toc-section-number">1.3</span>  Filtering for Inclusion</a></li>
  <li><a href="#merging-the-data" id="toc-merging-the-data" class="nav-link" data-scroll-target="#merging-the-data"><span class="toc-section-number">1.4</span>  Merging the Data</a>
  <ul class="collapse">
  <li><a href="#merging-two-data-frames-at-a-time" id="toc-merging-two-data-frames-at-a-time" class="nav-link" data-scroll-target="#merging-two-data-frames-at-a-time"><span class="toc-section-number">1.4.1</span>  Merging Two Data Frames at a Time</a></li>
  <li><a href="#merging-many-data-frames-together" id="toc-merging-many-data-frames-together" class="nav-link" data-scroll-target="#merging-many-data-frames-together"><span class="toc-section-number">1.4.2</span>  Merging Many Data Frames Together</a></li>
  </ul></li>
  <li><a href="#the-raw-data" id="toc-the-raw-data" class="nav-link" data-scroll-target="#the-raw-data"><span class="toc-section-number">1.5</span>  The “Raw” Data</a></li>
  <li><a href="#cleaning-tasks" id="toc-cleaning-tasks" class="nav-link" data-scroll-target="#cleaning-tasks"><span class="toc-section-number">1.6</span>  Cleaning Tasks</a></li>
  <li><a href="#our-identifying-variable" id="toc-our-identifying-variable" class="nav-link" data-scroll-target="#our-identifying-variable"><span class="toc-section-number">1.7</span>  Our identifying variable</a></li>
  <li><a href="#refused-dont-know" id="toc-refused-dont-know" class="nav-link" data-scroll-target="#refused-dont-know"><span class="toc-section-number">1.8</span>  “Refused” &amp; “Don’t Know”</a></li>
  <li><a href="#variables-without-variation" id="toc-variables-without-variation" class="nav-link" data-scroll-target="#variables-without-variation"><span class="toc-section-number">1.9</span>  Variables without Variation</a></li>
  <li><a href="#quantitative-variables" id="toc-quantitative-variables" class="nav-link" data-scroll-target="#quantitative-variables"><span class="toc-section-number">1.10</span>  Quantitative Variables</a>
  <ul class="collapse">
  <li><a href="#renaming-the-quantities" id="toc-renaming-the-quantities" class="nav-link" data-scroll-target="#renaming-the-quantities"><span class="toc-section-number">1.10.1</span>  Renaming the Quantities</a></li>
  <li><a href="#sampling-weights" id="toc-sampling-weights" class="nav-link" data-scroll-target="#sampling-weights"><span class="toc-section-number">1.10.2</span>  Sampling Weights</a></li>
  </ul></li>
  <li><a href="#binary-variables" id="toc-binary-variables" class="nav-link" data-scroll-target="#binary-variables"><span class="toc-section-number">1.11</span>  Binary Variables</a>
  <ul class="collapse">
  <li><a href="#sex-riagendr" id="toc-sex-riagendr" class="nav-link" data-scroll-target="#sex-riagendr"><span class="toc-section-number">1.11.1</span>  Sex (RIAGENDR)</a></li>
  <li><a href="#yesno-variables" id="toc-yesno-variables" class="nav-link" data-scroll-target="#yesno-variables"><span class="toc-section-number">1.11.2</span>  Yes/No variables</a></li>
  <li><a href="#renaming-binary-variables" id="toc-renaming-binary-variables" class="nav-link" data-scroll-target="#renaming-binary-variables"><span class="toc-section-number">1.11.3</span>  Renaming Binary Variables</a></li>
  </ul></li>
  <li><a href="#create-phq-9-scores" id="toc-create-phq-9-scores" class="nav-link" data-scroll-target="#create-phq-9-scores"><span class="toc-section-number">1.12</span>  Create PHQ-9 Scores</a>
  <ul class="collapse">
  <li><a href="#forming-the-phq-9-score" id="toc-forming-the-phq-9-score" class="nav-link" data-scroll-target="#forming-the-phq-9-score"><span class="toc-section-number">1.12.1</span>  Forming the PHQ-9 Score</a></li>
  <li><a href="#distribution-of-phq-9-score" id="toc-distribution-of-phq-9-score" class="nav-link" data-scroll-target="#distribution-of-phq-9-score"><span class="toc-section-number">1.12.2</span>  Distribution of PHQ-9 Score</a></li>
  <li><a href="#fixing-the-dpq100-variable" id="toc-fixing-the-dpq100-variable" class="nav-link" data-scroll-target="#fixing-the-dpq100-variable"><span class="toc-section-number">1.12.3</span>  Fixing the <code>DPQ100</code> variable</a></li>
  </ul></li>
  <li><a href="#multi-categorical-variables" id="toc-multi-categorical-variables" class="nav-link" data-scroll-target="#multi-categorical-variables"><span class="toc-section-number">1.13</span>  Multi-Categorical Variables</a>
  <ul class="collapse">
  <li><a href="#creating-raceeth-from-ridreth3" id="toc-creating-raceeth-from-ridreth3" class="nav-link" data-scroll-target="#creating-raceeth-from-ridreth3"><span class="toc-section-number">1.13.1</span>  Creating RACEETH from RIDRETH3</a></li>
  <li><a href="#creating-educ-from-dmdeduc2" id="toc-creating-educ-from-dmdeduc2" class="nav-link" data-scroll-target="#creating-educ-from-dmdeduc2"><span class="toc-section-number">1.13.2</span>  Creating EDUC from DMDEDUC2</a></li>
  <li><a href="#creating-dental-from-oharec" id="toc-creating-dental-from-oharec" class="nav-link" data-scroll-target="#creating-dental-from-oharec"><span class="toc-section-number">1.13.3</span>  Creating DENTAL from OHAREC</a></li>
  <li><a href="#creating-sroh-from-huq010" id="toc-creating-sroh-from-huq010" class="nav-link" data-scroll-target="#creating-sroh-from-huq010"><span class="toc-section-number">1.13.4</span>  Creating SROH from HUQ010</a></li>
  <li><a href="#creating-sunscr-from-deq034d" id="toc-creating-sunscr-from-deq034d" class="nav-link" data-scroll-target="#creating-sunscr-from-deq034d"><span class="toc-section-number">1.13.5</span>  Creating SUNSCR from DEQ034D</a></li>
  <li><a href="#creating-deprdiff-from-dpq100" id="toc-creating-deprdiff-from-dpq100" class="nav-link" data-scroll-target="#creating-deprdiff-from-dpq100"><span class="toc-section-number">1.13.6</span>  Creating DEPRDIFF from DPQ100</a></li>
  <li><a href="#creating-dietqual-from-dbq700" id="toc-creating-dietqual-from-dbq700" class="nav-link" data-scroll-target="#creating-dietqual-from-dbq700"><span class="toc-section-number">1.13.7</span>  Creating DIETQUAL from DBQ700</a></li>
  <li><a href="#creating-foodsec-from-fsdad" id="toc-creating-foodsec-from-fsdad" class="nav-link" data-scroll-target="#creating-foodsec-from-fsdad"><span class="toc-section-number">1.13.8</span>  Creating FOODSEC from FSDAD</a></li>
  <li><a href="#creating-snore-from-slq030" id="toc-creating-snore-from-slq030" class="nav-link" data-scroll-target="#creating-snore-from-slq030"><span class="toc-section-number">1.13.9</span>  Creating SNORE from SLQ030</a></li>
  <li><a href="#creating-wtgoal-from-whq040" id="toc-creating-wtgoal-from-whq040" class="nav-link" data-scroll-target="#creating-wtgoal-from-whq040"><span class="toc-section-number">1.13.10</span>  Creating WTGOAL from WHQ040</a></li>
  </ul></li>
  <li><a href="#dropping-variables" id="toc-dropping-variables" class="nav-link" data-scroll-target="#dropping-variables"><span class="toc-section-number">1.14</span>  Dropping Variables</a></li>
  <li><a href="#resorting-variables" id="toc-resorting-variables" class="nav-link" data-scroll-target="#resorting-variables"><span class="toc-section-number">1.15</span>  Resorting Variables</a></li>
  <li><a href="#nh432-analytic-tibble" id="toc-nh432-analytic-tibble" class="nav-link" data-scroll-target="#nh432-analytic-tibble"><span class="toc-section-number">1.16</span>  <code>nh432</code> analytic tibble</a>
  <ul class="collapse">
  <li><a href="#saving-the-tibble-as-nh432.rds" id="toc-saving-the-tibble-as-nh432.rds" class="nav-link" data-scroll-target="#saving-the-tibble-as-nh432.rds"><span class="toc-section-number">1.16.1</span>  Saving the tibble as <code>nh432.Rds</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-nh432-build" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Building the <code>nh432</code> example</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this Chapter, we will extract and tidy a data set using pre-pandemic (2017 - March 2020) data from the National Health and Nutrition Examination Survey (NHANES). Then we’ll save this data set (which I’ll call <strong>nh432</strong> once it’s built) so that we can use it again in subsequent work. Details on the data are available at <a href="https://wwwn.cdc.gov/nchs/nhanes/continuousnhanes/default.aspx?Cycle=2017-2020">this link to NHANES at CDC</a>.</p>
<section id="r-setup" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="r-setup"><span class="header-section-number">1.1</span> R Setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">comment =</span> <span class="cn">NA</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor) </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nhanesA)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="selecting-nhanes-variables" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="selecting-nhanes-variables"><span class="header-section-number">1.2</span> Selecting NHANES Variables</h2>
<p>We’ll focus on NHANES data describing</p>
<ul>
<li>participating adults ages 30-59 years who</li>
<li>completed both an NHANES interview and medical examination, and who</li>
<li>also completed an oral health examination, and who</li>
<li>also reported their overall health as either Excellent, Very Good, Good, Fair, or Poor</li>
</ul>
<p>We will pull the following NHANES data elements using the <code>nhanesA</code> package:</p>
<section id="demographics-and-sample-weights" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="demographics-and-sample-weights"><span class="header-section-number">1.2.1</span> Demographics and Sample Weights</h3>
<p>From the <a href="https://wwwn.cdc.gov/nchs/nhanes/search/datapage.aspx?Component=Demographics&amp;Cycle=2017-2020">Demographic Variables and Sample Weights</a> database (P_DEMO), we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">RIDSTATR</td>
<td style="text-align: center;">Interview and MEC exam status</td>
<td style="text-align: left;">1 = Interviewed only <br> <strong>2 = Interviewed &amp; MEC examined</strong></td>
</tr>
<tr class="odd">
<td style="text-align: right;">RIDAGEYR</td>
<td style="text-align: center;">Age at screening (years) <br> <strong>We will require ages 30-59.</strong></td>
<td style="text-align: left;">Top coded at 80<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></td>
</tr>
<tr class="even">
<td style="text-align: right;">RIDRETH3</td>
<td style="text-align: center;">Race/Hispanic origin</td>
<td style="text-align: left;">1 = Mexican American <br> 2 = Other Hispanic <br> 3 = Non-Hispanic White <br> 4 = Non-Hispanic Black <br> 6 = Non-Hispanic Asian <br> 7 = Other Race, including Multi-Racial</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DMDEDUC2</td>
<td style="text-align: center;">Education Level</td>
<td style="text-align: left;">1 = Less than 9th grade <br> 2 = 9-11th grade <br> 3 = High school graduate <br> 4 = Some college or AA <br> 5 = College graduate or above <br> 7 = Refused (<em>will treat as NA</em>) <br> 9 = Don’t Know (<em>will treat as NA</em>)</td>
</tr>
<tr class="even">
<td style="text-align: right;">RIAGENDR</td>
<td style="text-align: center;">Sex</td>
<td style="text-align: left;">1 = Male, 2 = Female</td>
</tr>
<tr class="odd">
<td style="text-align: right;">WTINTPRP</td>
<td style="text-align: center;">Full sample interview weight</td>
<td style="text-align: left;">Sampling weight</td>
</tr>
<tr class="even">
<td style="text-align: right;">WTMECPRP</td>
<td style="text-align: center;">Full sample MEC examination weight</td>
<td style="text-align: left;">Sampling weight</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong> As part of our inclusion criteria, we will require that all participants in our analytic data have RIDAGEYR values of 30-59 and thus drop the participants whose responses to that item are missing or outside that range.</p>
<p>Here’s my code to select these variables from the P_DEMO data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>p_demo <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_DEMO'</span>) <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, RIDSTATR, RIDAGEYR, RIDRETH3, DMDEDUC2, RIAGENDR,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>         WTINTPRP, WTMECPRP) </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_demo) <span class="co"># gives number of rows (participants) and columns (variables)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15560     8</code></pre>
</div>
</div>
<p>Do we have any duplicate SEQN values?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>p_demo <span class="sc">|&gt;</span> <span class="fu">get_dupes</span>(SEQN)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>No duplicate combinations found of: SEQN</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] SEQN       dupe_count RIDSTATR   RIDAGEYR   RIDRETH3   DMDEDUC2   RIAGENDR  
[8] WTINTPRP   WTMECPRP  
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
</div>
<p>Good.</p>
</section>
<section id="oral-health" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="oral-health"><span class="header-section-number">1.2.2</span> Oral Health</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_OHXREF.htm">Oral Health - Recommendation of Care</a> (P_OHXREF), we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 31%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">OHDEXSTS</td>
<td style="text-align: center;">Overall Oral Health Exam Status</td>
<td style="text-align: left;"><strong>1 = Complete</strong> <br> 2 = Partial <br> 3 = Not Done</td>
</tr>
<tr class="odd">
<td style="text-align: right;">OHAREC</td>
<td style="text-align: center;">Overall Recommendation for Dental Care</td>
<td style="text-align: left;">1 = See a dentist immediately <br> 2 = See a dentist within the next 2 weeks <br> 3 = See a dentist at your earliest convenience <br> 4 = Continue your regular routine care</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong> In addition to requiring that all participants in our analytic data have OHDEXSTS = 1, we will (later) collapse values 1 and 2 in OHAREC because there are only a few participants with code 1 in OHAREC.</p>
<p>Here’s my code to select these variables from the P_OHXREF data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>p_ohxref <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_OHXREF'</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, OHDEXSTS, OHAREC)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_ohxref)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13772     3</code></pre>
</div>
</div>
</section>
<section id="hospital-utilization-access-to-care" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="hospital-utilization-access-to-care"><span class="header-section-number">1.2.3</span> Hospital Utilization &amp; Access to Care</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_HUQ.htm">Questionnaire on Hospital Utilization &amp; Access to Care</a> (P_HUQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">HUQ010</td>
<td style="text-align: center;">General health condition <br> <strong>we require a 1-5 response</strong></td>
<td style="text-align: left;">1 = Excellent <br> 2 = Very Good <br> 3 = Good <br> 4 = Fair <br> 5 = Poor <br> 7 = Refused (<em>to be dropped</em>) <br> 9 = Don’t Know (<em>to be dropped</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">HUQ071</td>
<td style="text-align: center;">Overnight hospital patient in past 12 months</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>will treat as NA</em>) <br> 9 = Don’t Know (<em>will treat as NA</em>)</td>
</tr>
<tr class="even">
<td style="text-align: right;">HUQ090</td>
<td style="text-align: center;">Seen mental health professional in past 12 months</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>will treat as NA</em>) <br> 9 = Don’t Know (<em>will treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong> As part of our inclusion criteria, we will require that all participants in our analytic data have HUQ010 values of 1-5 and drop participants whose responses are missing, Refused or Don’t Know for that item.</p>
<p>Here’s my code to select these variables from the P_HUQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>p_huq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_HUQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, HUQ010, HUQ071, HUQ090)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_huq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15560     4</code></pre>
</div>
</div>
</section>
<section id="body-measures" class="level3" data-number="1.2.4">
<h3 data-number="1.2.4" class="anchored" data-anchor-id="body-measures"><span class="header-section-number">1.2.4</span> Body Measures</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_BMX.htm">Body Measures</a> database (P_BMX), we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">BMXWT</td>
<td style="text-align: center;">Body weight (kg)</td>
<td style="text-align: left;">Measured in examination</td>
</tr>
<tr class="odd">
<td style="text-align: right;">BMXHT</td>
<td style="text-align: center;">Standing height (cm)</td>
<td style="text-align: left;">Measured in examination</td>
</tr>
<tr class="even">
<td style="text-align: right;">BMXWAIST</td>
<td style="text-align: center;">Waist Circumference (cm)</td>
<td style="text-align: left;">Measured in examination</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_BMX data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>p_bmx <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_BMX'</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, BMXWT, BMXHT, BMXWAIST)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_bmx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14300     4</code></pre>
</div>
</div>
</section>
<section id="blood-pressure" class="level3" data-number="1.2.5">
<h3 data-number="1.2.5" class="anchored" data-anchor-id="blood-pressure"><span class="header-section-number">1.2.5</span> Blood Pressure</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_BPXO.htm">Blood Pressure - Oscillometric Measurement</a> (P_BPXO), we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">BPXOSY2</td>
<td style="text-align: center;">Systolic BP <br> (2nd reading, in mm Hg)</td>
<td style="text-align: left;">Measured in examination</td>
</tr>
<tr class="odd">
<td style="text-align: right;">BPXODI2</td>
<td style="text-align: center;">Diastolic BP <br> (2nd reading, in mm Hg)</td>
<td style="text-align: left;">Measured in examination</td>
</tr>
<tr class="even">
<td style="text-align: right;">BPXOPLS1</td>
<td style="text-align: center;">Pulse <br> (1st reading, beats/minute)</td>
<td style="text-align: left;">Measured in examination</td>
</tr>
<tr class="odd">
<td style="text-align: right;">BPXOPLS2</td>
<td style="text-align: center;">Pulse <br> (2nd reading, beats/minute)</td>
<td style="text-align: left;">Measured in examination</td>
</tr>
</tbody>
</table>
<ul>
<li>A “normal” blood pressure for most adults is &lt; 120 systolic and &lt; 80 diastolic.</li>
<li>A “normal” resting pulse rate for most adults is between 60 and 100 beats/minute.</li>
</ul>
<p>Here’s my code to select these variables from the P_BPXO data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>p_bpxo <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_BPXO'</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, BPXOSY2, BPXODI2, BPXOPLS1, BPXOPLS2)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_bpxo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11656     5</code></pre>
</div>
</div>
</section>
<section id="complete-blood-count" class="level3" data-number="1.2.6">
<h3 data-number="1.2.6" class="anchored" data-anchor-id="complete-blood-count"><span class="header-section-number">1.2.6</span> Complete Blood Count</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_CBC.htm">Complete Blood Count with 5-Part Differential in Whole Blood</a> (P_CBC), we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">LBXWBCSI</td>
<td style="text-align: center;">White blood cell count <br> in 1000 cells/uL</td>
<td style="text-align: left;">normal range: 4.5 - 11</td>
</tr>
<tr class="odd">
<td style="text-align: right;">LBXPLTSI</td>
<td style="text-align: center;">Platelet count <br> in 1000 cells/uL</td>
<td style="text-align: left;">normal range: 150-450</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_CBC data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>p_cbc <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_CBC'</span>) <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, LBXWBCSI, LBXPLTSI)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_cbc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13772     3</code></pre>
</div>
</div>
</section>
<section id="c-reactive-protein" class="level3" data-number="1.2.7">
<h3 data-number="1.2.7" class="anchored" data-anchor-id="c-reactive-protein"><span class="header-section-number">1.2.7</span> C-Reactive Protein</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_HSCRP.htm">High-Sensitivity C-Reactive Protein</a> (P_HSCRP) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">LBXHSCRP</td>
<td style="text-align: center;">High-Sensitivity <br> C-Reactive Protein (mg/L)</td>
<td style="text-align: left;">normal range: 1.0 - 3.0</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_HSCRP data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>p_hscrp <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_HSCRP'</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, LBXHSCRP)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_hscrp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13772     2</code></pre>
</div>
</div>
</section>
<section id="alcohol-use" class="level3" data-number="1.2.8">
<h3 data-number="1.2.8" class="anchored" data-anchor-id="alcohol-use"><span class="header-section-number">1.2.8</span> Alcohol Use</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_ALQ.htm">Questionnaire on Alcohol Use</a> (P_ALQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">ALQ111</td>
<td style="text-align: center;">Ever had a drink of alcohol?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">ALQ130</td>
<td style="text-align: center;">Average drinks per day <br> in past 12 months <br> (Top coded at 15<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>)</td>
<td style="text-align: left;">count (<strong>set to 0 if ALQ111 is No</strong>) <br> 777 = Refused (<em>treat as NA</em>) <br> 999 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_ALQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>p_alq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_ALQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, ALQ111, ALQ130)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_alq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8965    3</code></pre>
</div>
</div>
<p>As noted above, we set the value of ALQ130 to be 0 if the response to ALQ111 is 2 (No).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>p_alq <span class="ot">&lt;-</span> p_alq <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ALQ130 =</span> <span class="fu">ifelse</span>(ALQ111 <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">0</span>, ALQ130))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>p_alq <span class="sc">|&gt;</span> <span class="fu">count</span>(ALQ130, ALQ111)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ALQ130 ALQ111    n
1       0      2  867
2       1      1 2126
3       2      1 1769
4       3      1  843
5       4      1  431
6       5      1  231
7       6      1  201
8       7      1   44
9       8      1   65
10      9      1   13
11     10      1   42
12     11      1    3
13     12      1   53
14     13      1    3
15     15      1   29
16    777      1    1
17    999      1    9
18     NA      1 1640
19     NA     NA  595</code></pre>
</div>
</div>
</section>
<section id="dermatology" class="level3" data-number="1.2.9">
<h3 data-number="1.2.9" class="anchored" data-anchor-id="dermatology"><span class="header-section-number">1.2.9</span> Dermatology</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_DEQ.htm">Questionnaire on Dermatology</a> (P_DEQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">DEQ034D</td>
<td style="text-align: center;">Use sunscreen if outside on very sunny day?</td>
<td style="text-align: left;">1 = Always <br> 2 = Most of the time <br> 3 = Sometimes <br> 4 = Rarely <br> 5 = Never <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_DEQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>p_deq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_DEQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, DEQ034D)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_deq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5810    2</code></pre>
</div>
</div>
</section>
<section id="depression-screener" class="level3" data-number="1.2.10">
<h3 data-number="1.2.10" class="anchored" data-anchor-id="depression-screener"><span class="header-section-number">1.2.10</span> Depression Screener</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_DPQ.htm">Questionnaire on Mental Health - Depression Screener</a> (P_DPQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 13%">
<col style="width: 50%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ010</td>
<td style="text-align: center;">Have little interest in doing things</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ020</td>
<td style="text-align: center;">Feeling down, depressed or hopeless</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ030</td>
<td style="text-align: center;">Trouble sleeping or sleeping too much</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ040</td>
<td style="text-align: center;">Feeling tired or having little energy</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ050</td>
<td style="text-align: center;">Poor appetite or overeating</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ060</td>
<td style="text-align: center;">Feeling bad about yourself</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ070</td>
<td style="text-align: center;">Trouble concentrating on things</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ080</td>
<td style="text-align: center;">Moving or speaking slowly or too fast</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ090</td>
<td style="text-align: center;">Thoughts you would be better off dead</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ100</td>
<td style="text-align: center;">Difficulty these problems have caused</td>
<td style="text-align: left;">0-3: codes below</td>
</tr>
</tbody>
</table>
<ul>
<li>For DPQ010 - DPQ090, the codes are 0 = Not at all, 1 = Several days in the past two weeks, 2 = More than half the days in the past two weeks, 3 = Nearly every day in the past two weeks, with <em>7 = Refused and 9 = Don’t Know which we will treat as NA</em>.</li>
<li>For DPQ100, the codes are 0 = Not at all difficult, 1 = Somewhat difficult, 2 = Very difficult, 3 = Extremely difficult, with <em>7 = Refused and 9 = Don’t Know which we will treat as NA</em>. Also, <strong>the DPQ100 score should be 0 if the scores on DPQ010 through DPQ090 are all zero</strong>.</li>
</ul>
<p><a href="#create-phq-9-scores">Later</a>, we will sum the scores in DPQ010 - DPQ090 to produce a PHQ-9 score for each participant.</p>
<p>Here’s my code to select these variables from the P_DPQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>p_dpq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_DPQ'</span>) <span class="co"># we're actually pulling all available variables</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_dpq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8965   11</code></pre>
</div>
</div>
</section>
<section id="diet-behavior" class="level3" data-number="1.2.11">
<h3 data-number="1.2.11" class="anchored" data-anchor-id="diet-behavior"><span class="header-section-number">1.2.11</span> Diet Behavior</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_DBQ.htm">Questionnaire on Diet Behavior and Nutrition</a> (P_DBQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">DBQ700</td>
<td style="text-align: center;">How healthy is your diet?</td>
<td style="text-align: left;">1 = Excellent <br> 2 = Very Good <br> 3 = Good <br> 4 = Fair <br> 5 = Poor <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_DBQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>p_dbq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_DBQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, DBQ700)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_dbq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15560     2</code></pre>
</div>
</div>
</section>
<section id="food-security" class="level3" data-number="1.2.12">
<h3 data-number="1.2.12" class="anchored" data-anchor-id="food-security"><span class="header-section-number">1.2.12</span> Food Security</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_FSQ.htm">Questionnaire on Food Security</a> (P_FSQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">FSDAD</td>
<td style="text-align: center;">Adult food security category for last 12m</td>
<td style="text-align: left;">1 = Full food security <br> 2 = Marginal <br> 3 = Low <br> 4 = Very low</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_FSQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>p_fsq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_FSQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, FSDAD)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_fsq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15560     2</code></pre>
</div>
</div>
</section>
<section id="health-insurance" class="level3" data-number="1.2.13">
<h3 data-number="1.2.13" class="anchored" data-anchor-id="health-insurance"><span class="header-section-number">1.2.13</span> Health Insurance</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_HIQ.htm">Questionnaire on Health Insurance</a> (P_HIQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">HIQ011</td>
<td style="text-align: center;">Covered by health insurance now?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">HIQ210</td>
<td style="text-align: center;">Time when no insurance in past year?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>) <br> (<strong>set to Yes if HIQ011 is No.</strong>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_HIQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>p_hiq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_HIQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, HIQ011, HIQ210)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_hiq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15560     3</code></pre>
</div>
</div>
<p>As noted above, we set the value of HIQ210 to be 1 (Yes) if HIQ011 is 2 (No).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>p_hiq <span class="ot">&lt;-</span> p_hiq <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HIQ210 =</span> <span class="fu">ifelse</span>(HIQ011 <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, HIQ210))</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>p_hiq <span class="sc">|&gt;</span> <span class="fu">count</span>(HIQ210, HIQ011)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  HIQ210 HIQ011     n
1      1      1   960
2      1      2  1852
3      2      1 12682
4      7      1     2
5      9      1    25
6     NA      1     2
7     NA      7     8
8     NA      9    29</code></pre>
</div>
</div>
</section>
<section id="medical-conditions" class="level3" data-number="1.2.14">
<h3 data-number="1.2.14" class="anchored" data-anchor-id="medical-conditions"><span class="header-section-number">1.2.14</span> Medical Conditions</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_MCQ.htm">Questionnaire on Medical Conditions</a> (P_MCQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">MCQ366A</td>
<td style="text-align: center;">Doctor told you to control/lose weight in the past 12 months?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">MCQ366B</td>
<td style="text-align: center;">Doctor told you to exercise <br> in the past 12 months?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="even">
<td style="text-align: right;">MCQ371A</td>
<td style="text-align: center;">Are you now controlling or losing weight?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">MCQ371B</td>
<td style="text-align: center;">Are you now increasing exercise?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_MCQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>p_mcq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_MCQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, MCQ366A, MCQ366B, MCQ371A, MCQ371B)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_mcq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14986     5</code></pre>
</div>
</div>
</section>
<section id="oral-health-1" class="level3" data-number="1.2.15">
<h3 data-number="1.2.15" class="anchored" data-anchor-id="oral-health-1"><span class="header-section-number">1.2.15</span> Oral Health</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_OHQ.htm">Questionnaire on Oral Health</a> (P_OHQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">OHQ870</td>
<td style="text-align: center;">Days using dental floss <br> (in the last week)</td>
<td style="text-align: left;">count (0-7) <br> 9 = Unknown (<em>treat as NA</em>) <br> 99 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_OHQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>p_ohq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_OHQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, OHQ870)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_ohq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14986     2</code></pre>
</div>
</div>
</section>
<section id="physical-activity" class="level3" data-number="1.2.16">
<h3 data-number="1.2.16" class="anchored" data-anchor-id="physical-activity"><span class="header-section-number">1.2.16</span> Physical Activity</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_PAQ.htm">Questionnaire on Physical Activity</a> (P_PAQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">PAQ605</td>
<td style="text-align: center;">Vigorous work activity for 10 min/week?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">PAQ610</td>
<td style="text-align: center;"># of days of vigorous work activity <br> in past week</td>
<td style="text-align: left;">count (1-7) <br> 77 = Refused (<em>treat as NA</em>) <br> 99 = Don’t Know (<em>treat as NA</em>) <br> (<strong>set to 0 if PAQ605 is No.</strong>)</td>
</tr>
<tr class="even">
<td style="text-align: right;">PAQ650</td>
<td style="text-align: center;">Vigorous recreational activity for 10 min/week?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">PAQ655</td>
<td style="text-align: center;"># of days of vigorous recreational <br> activity in past week</td>
<td style="text-align: left;">count (1-7) <br> 77 = Refused (<em>treat as NA</em>) <br> 99 = Don’t Know (<em>treat as NA</em>) <br> (<strong>set to 0 if PAQ650 is No.</strong>)</td>
</tr>
<tr class="even">
<td style="text-align: right;">PAD680</td>
<td style="text-align: center;">Minutes of sedentary activity (min/day)</td>
<td style="text-align: left;">excludes sleeping <br> 7777 = Refused (<em>treat as NA</em>) <br> 9999 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_PAQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>p_paq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_PAQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, PAQ605, PAQ610, PAQ650, PAQ655, PAD680)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_paq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9693    6</code></pre>
</div>
</div>
<p>Now, let’s set the value of PAQ610 to be 0 if PAQ605 is 2 (No).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>p_paq <span class="ot">&lt;-</span> p_paq <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PAQ610 =</span> <span class="fu">ifelse</span>(PAQ605 <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">0</span>, PAQ610))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, we set the value of PAQ655 to be 0 if PAQ650 is 2 (No).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>p_paq <span class="ot">&lt;-</span> p_paq <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PAQ655 =</span> <span class="fu">ifelse</span>(PAQ650 <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">0</span>, PAQ655))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="reproductive-health" class="level3" data-number="1.2.17">
<h3 data-number="1.2.17" class="anchored" data-anchor-id="reproductive-health"><span class="header-section-number">1.2.17</span> Reproductive Health</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_RHQ.htm">Questionnaire on Reproductive Health</a> (P_RHQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">RHQ131</td>
<td style="text-align: center;">Ever been pregnant?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">RHQ160</td>
<td style="text-align: center;">How many times have you been pregnant?</td>
<td style="text-align: left;">count (1-11) <br> 77 = Refused (<em>treat as NA</em>) <br> 99 = Don’t Know (<em>treat as NA</em>) <br> (<strong>set to 0 if RHQ131 is No.</strong>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_RHQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>p_rhq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_RHQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, RHQ131, RHQ160)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_rhq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5314    3</code></pre>
</div>
</div>
<p>Now, let’s set the value of RHQ160 to be 0 if RHQ131 is 2 (No).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>p_rhq <span class="ot">&lt;-</span> p_rhq <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RHQ160 =</span> <span class="fu">ifelse</span>(RHQ131 <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">0</span>, RHQ160))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sleep-disorders" class="level3" data-number="1.2.18">
<h3 data-number="1.2.18" class="anchored" data-anchor-id="sleep-disorders"><span class="header-section-number">1.2.18</span> Sleep Disorders</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_SLQ.htm">Questionnaire on Sleep Disorders</a> (P_SLQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">SLD012</td>
<td style="text-align: center;">Usual hours of sleep (weekdays)</td>
<td style="text-align: left;">hours <em>limited to 2-14</em></td>
</tr>
<tr class="odd">
<td style="text-align: right;">SLD013</td>
<td style="text-align: center;">Usual hours of sleep (weekends)</td>
<td style="text-align: left;">hours <em>limited to 2-14</em></td>
</tr>
<tr class="even">
<td style="text-align: right;">SLQ030</td>
<td style="text-align: center;">How often do you snore in the past 12 months?</td>
<td style="text-align: left;">0 = Never <br> 1 = Rarely (1-2 nights/week) <br> 2 = Occasionally (3-4 nights/week) <br> 3 = Frequently (5+ nights/week) <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">SLQ050</td>
<td style="text-align: center;">Have you ever told a doctor you had trouble sleeping?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_SLQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>p_slq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_SLQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, SLD012, SLD013, SLQ030, SLQ050)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_slq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10195     5</code></pre>
</div>
</div>
</section>
<section id="smoking-cigarettes" class="level3" data-number="1.2.19">
<h3 data-number="1.2.19" class="anchored" data-anchor-id="smoking-cigarettes"><span class="header-section-number">1.2.19</span> Smoking Cigarettes</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_SMQ.htm">Questionnaire on Smoking - Cigarette Use</a> (P_SMQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">SMQ020</td>
<td style="text-align: center;">Smoked at least 100 cigarettes in your life?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">SMD641</td>
<td style="text-align: center;">Days (in past 30) when you smoked a cigarette?</td>
<td style="text-align: left;">count (0-30) <br> 77 = Refused (<em>treat as NA</em>) <br> 99 = Don’t Know (<em>treat as NA</em>) <br> (<strong>set to 0 if SMQ020 is No.</strong>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_SMQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>p_smq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_SMQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, SMQ020, SMD641)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_smq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11137     3</code></pre>
</div>
</div>
<p>Now, let’s set the value of SMD641 to be 0 if SMQ020 is 2 (No).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>p_smq <span class="ot">&lt;-</span> p_smq <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SMD641 =</span> <span class="fu">ifelse</span>(SMQ020 <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">0</span>, SMD641))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="secondhand-smoke" class="level3" data-number="1.2.20">
<h3 data-number="1.2.20" class="anchored" data-anchor-id="secondhand-smoke"><span class="header-section-number">1.2.20</span> Secondhand Smoke</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_SMQSHS.htm">Questionnaire on Smoking - Secondhand Smoke Exposure</a> (P_SMQSHS) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">SMQ856</td>
<td style="text-align: center;">Last 7 days worked at a job not at home?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">SMQ860</td>
<td style="text-align: center;">Last 7 days spent time in a restaurant?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="even">
<td style="text-align: right;">SMQ866</td>
<td style="text-align: center;">Last 7 days spent time in a bar?</td>
<td style="text-align: left;">1 = Yes, 2 = No <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_SMQSHS data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>p_smqshs <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_SMQSHS'</span>) <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, SMQ856, SMQ860, SMQ866)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_smqshs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15560     4</code></pre>
</div>
</div>
</section>
<section id="weight-history" class="level3" data-number="1.2.21">
<h3 data-number="1.2.21" class="anchored" data-anchor-id="weight-history"><span class="header-section-number">1.2.21</span> Weight History</h3>
<p>From the <a href="https://wwwn.cdc.gov/Nchs/Nhanes/2017-2018/P_WHQ.htm">Questionnaire on Weight History</a> (P_WHQ) we collect the following variables.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">WHD010</td>
<td style="text-align: center;">Current self-reported height (in inches)</td>
<td style="text-align: left;">49 to 82 <br> 7777 = Refused (<em>treat as NA</em>) <br> 9999 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="odd">
<td style="text-align: right;">WHD020</td>
<td style="text-align: center;">Current self-reported weight (in pounds)</td>
<td style="text-align: left;">67 to 578 <br> 7777 = Refused (<em>treat as NA</em>) <br> 9999 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
<tr class="even">
<td style="text-align: right;">WHQ040</td>
<td style="text-align: center;">Like to weigh more, less, or same</td>
<td style="text-align: left;">1 = More <br> 2 = Less <br> 3 = Stay about the same <br> 7 = Refused (<em>treat as NA</em>) <br> 9 = Don’t Know (<em>treat as NA</em>)</td>
</tr>
</tbody>
</table>
<p>Here’s my code to select these variables from the P_WHQ data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>p_whq <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'P_WHQ'</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, WHD010, WHD020, WHQ040)</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_whq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10195     4</code></pre>
</div>
</div>
</section>
</section>
<section id="filtering-for-inclusion" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="filtering-for-inclusion"><span class="header-section-number">1.3</span> Filtering for Inclusion</h2>
<p>First, I’ll filter the demographic data (<code>p_demo</code>) to the participants with known ages (RIDAGEYR here) between 30 and 59 years (inclusive), and to those who were both interviewed and examined (so RIDSTATR is 2) to match our inclusion criteria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>p_demo <span class="ot">&lt;-</span> p_demo <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RIDAGEYR <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">&amp;</span> RIDAGEYR <span class="sc">&lt;=</span> <span class="dv">59</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>         RIDSTATR <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_demo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4133    8</code></pre>
</div>
</div>
<p>Second, I’ll restrict the <code>p_ohxref</code> sample to the participants who had a complete oral health exam (so OHDEXSTS is 1) which is also part of our inclusion criteria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>p_ohxref <span class="ot">&lt;-</span> p_ohxref <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OHDEXSTS <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_ohxref)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13271     3</code></pre>
</div>
</div>
<p>Third, I’ll restrict the <code>p_hug</code> sample to the participants who gave one of our five available responses (codes 1-5) to the general health condition question in HUQ010, which is the final element of our inclusion criteria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>p_huq <span class="ot">&lt;-</span> p_huq <span class="sc">|&gt;</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(HUQ010 <span class="sc">&lt;=</span> <span class="dv">5</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(p_huq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15550     4</code></pre>
</div>
</div>
<p>Subjects that meet all of these requirements will be included in our analytic data. To achieve that end, we’ll begin merging the individual data bases.</p>
</section>
<section id="merging-the-data" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="merging-the-data"><span class="header-section-number">1.4</span> Merging the Data</h2>
<section id="merging-two-data-frames-at-a-time" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="merging-two-data-frames-at-a-time"><span class="header-section-number">1.4.1</span> Merging Two Data Frames at a Time</h3>
<p>We have two ways to merge our data. We can merge data sets two at a time. In this case, we’ll use <code>inner_join()</code> from the <code>dplyr</code> package to include only those participants with data in each of the two data frames we’re merging. For example, we’ll create <code>temp01</code> to include data from both <code>p_demo</code> and <code>p_ohxref</code> for all participants (identified by their SEQN) that appear in each of those two data frames. Then, we’ll merge the resulting <code>temp01</code> with <code>p_huq</code> to create <code>temp02</code> in a similar way.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>temp01 <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(p_demo, p_ohxref, <span class="at">by =</span> <span class="st">"SEQN"</span>)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>temp02 <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(temp01, p_huq, <span class="at">by =</span> <span class="st">"SEQN"</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(temp02)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3931   13</code></pre>
</div>
</div>
<p>Note that we now have 3931 participants in our data, and this should be the case after we merge in all of the other data sets, too. Rather than using <code>inner_join()</code> we will switch now to using <code>left_join()</code> many more times so that we always add new information only on those subjects who meet our inclusion criteria (as identified in <code>temp02</code>. For more on the various types of joins we can use from the <code>dplyr</code> package, visit &lt;https://dplyr.tidyverse.org/reference/mutate-joins.html. The problem is that that approach would force us to create lots of new temporary files as we add in each new variable.</p>
</section>
<section id="merging-many-data-frames-together" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="merging-many-data-frames-together"><span class="header-section-number">1.4.2</span> Merging Many Data Frames Together</h3>
<p>A better approach is to use the <code>reduce()</code> function in the <code>purrr</code> package<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, which will let us join this <code>temp02</code> data frame with our remaining 17 data frames using <code>left_join()</code> in a much more streamlined way. We’ll also ensure that the final result (which we’ll call <code>nh_raw</code>) is a tibble, rather than just a data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>df_list <span class="ot">&lt;-</span> <span class="fu">list</span>(temp02, p_bmx, p_bpxo, p_cbc, p_hscrp, </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>                p_alq, p_deq, p_dpq, p_dbq, p_fsq, </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>                p_hiq, p_mcq, p_ohq, p_paq, p_rhq,</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>                p_slq, p_smqshs, p_smq, p_whq)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>nh_raw <span class="ot">&lt;-</span> df_list <span class="sc">|&gt;</span> </span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reduce</span>(left_join, <span class="at">by =</span> <span class="st">'SEQN'</span>) <span class="sc">|&gt;</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(nh_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3931   64</code></pre>
</div>
</div>
</section>
</section>
<section id="the-raw-data" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="the-raw-data"><span class="header-section-number">1.5</span> The “Raw” Data</h2>
<p>What does the data in <code>nh_raw</code> look like? Normally, I wouldn’t include this sort of intermediate description in a published bit of work, but it may be helpful to compare this description to the one we’ll generate at the end of the cleaning process in this case.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(nh_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      SEQN           RIDSTATR    RIDAGEYR        RIDRETH3        DMDEDUC2   
 Min.   :109271   Min.   :2   Min.   :30.00   Min.   :1.000   Min.   :1.00  
 1st Qu.:113103   1st Qu.:2   1st Qu.:37.00   1st Qu.:3.000   1st Qu.:3.00  
 Median :117059   Median :2   Median :45.00   Median :3.000   Median :4.00  
 Mean   :117074   Mean   :2   Mean   :44.79   Mean   :3.561   Mean   :3.64  
 3rd Qu.:121040   3rd Qu.:2   3rd Qu.:53.00   3rd Qu.:4.000   3rd Qu.:5.00  
 Max.   :124818   Max.   :2   Max.   :59.00   Max.   :7.000   Max.   :7.00  
                                                                            
    RIAGENDR        WTINTPRP         WTMECPRP         OHDEXSTS     OHAREC     
 Min.   :1.000   Min.   :  2467   Min.   :  2589   Min.   :1   Min.   :1.000  
 1st Qu.:1.000   1st Qu.: 10615   1st Qu.: 11365   1st Qu.:1   1st Qu.:3.000  
 Median :2.000   Median : 17358   Median : 18422   Median :1   Median :4.000  
 Mean   :1.533   Mean   : 28434   Mean   : 30353   Mean   :1   Mean   :3.455  
 3rd Qu.:2.000   3rd Qu.: 31476   3rd Qu.: 33155   3rd Qu.:1   3rd Qu.:4.000  
 Max.   :2.000   Max.   :311265   Max.   :321574   Max.   :1   Max.   :4.000  
                                                                              
     HUQ010          HUQ071          HUQ090          BMXWT       
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   : 36.90  
 1st Qu.:2.000   1st Qu.:2.000   1st Qu.:2.000   1st Qu.: 69.30  
 Median :3.000   Median :2.000   Median :2.000   Median : 82.10  
 Mean   :2.741   Mean   :1.913   Mean   :1.883   Mean   : 86.31  
 3rd Qu.:3.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.: 99.10  
 Max.   :5.000   Max.   :2.000   Max.   :9.000   Max.   :254.30  
                                                 NA's   :28      
     BMXHT          BMXWAIST        BPXOSY2         BPXODI2      
 Min.   :135.3   Min.   : 57.9   Min.   : 69.0   Min.   : 31.00  
 1st Qu.:160.0   1st Qu.: 89.1   1st Qu.:110.0   1st Qu.: 69.00  
 Median :166.9   Median : 99.2   Median :120.0   Median : 76.00  
 Mean   :167.4   Mean   :101.5   Mean   :121.5   Mean   : 77.03  
 3rd Qu.:174.7   3rd Qu.:111.7   3rd Qu.:131.0   3rd Qu.: 84.00  
 Max.   :198.7   Max.   :178.0   Max.   :222.0   Max.   :136.00  
 NA's   :30      NA's   :149     NA's   :346     NA's   :346     
    BPXOPLS1        BPXOPLS2         LBXWBCSI         LBXPLTSI    
 Min.   : 38.0   Min.   : 37.00   Min.   : 2.300   Min.   : 47.0  
 1st Qu.: 62.0   1st Qu.: 63.00   1st Qu.: 5.700   1st Qu.:210.0  
 Median : 69.0   Median : 70.00   Median : 6.900   Median :246.0  
 Mean   : 70.3   Mean   : 70.96   Mean   : 7.254   Mean   :253.3  
 3rd Qu.: 77.0   3rd Qu.: 78.00   3rd Qu.: 8.400   3rd Qu.:290.0  
 Max.   :126.0   Max.   :121.00   Max.   :22.800   Max.   :818.0  
 NA's   :615     NA's   :617      NA's   :176      NA's   :176    
    LBXHSCRP           ALQ111          ALQ130          DEQ034D     
 Min.   :  0.110   Min.   :1.000   Min.   : 0.000   Min.   :1.000  
 1st Qu.:  0.890   1st Qu.:1.000   1st Qu.: 1.000   1st Qu.:3.000  
 Median :  2.090   Median :1.000   Median : 2.000   Median :4.000  
 Mean   :  4.326   Mean   :1.089   Mean   : 2.345   Mean   :3.675  
 3rd Qu.:  4.740   3rd Qu.:1.000   3rd Qu.: 3.000   3rd Qu.:5.000  
 Max.   :182.820   Max.   :2.000   Max.   :15.000   Max.   :5.000  
 NA's   :267       NA's   :205     NA's   :789      NA's   :19     
     DPQ010           DPQ020           DPQ030           DPQ040      
 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median :0.0000   Median :0.0000   Median :0.0000   Median :1.0000  
 Mean   :0.3907   Mean   :0.3732   Mean   :0.6529   Mean   :0.7612  
 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000  
 Max.   :9.0000   Max.   :7.0000   Max.   :9.0000   Max.   :9.0000  
 NA's   :212      NA's   :212      NA's   :212      NA's   :212     
     DPQ050           DPQ060           DPQ070           DPQ080      
 Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.0000  
 1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:0.0000  
 Median :0.0000   Median :0.0000   Median :0.0000   Median :0.0000  
 Mean   :0.4117   Mean   :0.2504   Mean   :0.2924   Mean   :0.1622  
 3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:0.0000   3rd Qu.:0.0000  
 Max.   :9.0000   Max.   :3.0000   Max.   :3.0000   Max.   :3.0000  
 NA's   :212      NA's   :213      NA's   :213      NA's   :213     
     DPQ090          DPQ100           DBQ700         FSDAD      
 Min.   :0.000   Min.   :0.0000   Min.   :1.00   Min.   :1.000  
 1st Qu.:0.000   1st Qu.:0.0000   1st Qu.:2.00   1st Qu.:1.000  
 Median :0.000   Median :0.0000   Median :3.00   Median :1.000  
 Mean   :0.053   Mean   :0.3447   Mean   :3.11   Mean   :1.737  
 3rd Qu.:0.000   3rd Qu.:1.0000   3rd Qu.:4.00   3rd Qu.:2.000  
 Max.   :3.000   Max.   :3.0000   Max.   :9.00   Max.   :4.000  
 NA's   :214     NA's   :1448                    NA's   :231    
     HIQ011          HIQ210         MCQ366A         MCQ366B     
 Min.   :1.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000  
 Median :1.000   Median :2.000   Median :2.000   Median :2.000  
 Mean   :1.211   Mean   :1.742   Mean   :1.699   Mean   :1.574  
 3rd Qu.:1.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000  
 Max.   :9.000   Max.   :9.000   Max.   :9.000   Max.   :9.000  
                 NA's   :12                                     
    MCQ371A         MCQ371B          OHQ870           PAQ605     
 Min.   :1.000   Min.   :1.000   Min.   : 0.000   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:1.000   1st Qu.: 0.000   1st Qu.:1.000  
 Median :1.000   Median :1.000   Median : 3.000   Median :2.000  
 Mean   :1.371   Mean   :1.399   Mean   : 3.503   Mean   :1.723  
 3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.: 7.000   3rd Qu.:2.000  
 Max.   :9.000   Max.   :9.000   Max.   :99.000   Max.   :9.000  
                                 NA's   :1                       
     PAQ610           PAQ650          PAQ655            PAD680      
 Min.   : 0.000   Min.   :1.000   Min.   : 0.0000   Min.   :   2.0  
 1st Qu.: 0.000   1st Qu.:1.000   1st Qu.: 0.0000   1st Qu.: 180.0  
 Median : 0.000   Median :2.000   Median : 0.0000   Median : 300.0  
 Mean   : 1.244   Mean   :1.731   Mean   : 0.9201   Mean   : 363.7  
 3rd Qu.: 2.000   3rd Qu.:2.000   3rd Qu.: 1.0000   3rd Qu.: 480.0  
 Max.   :99.000   Max.   :2.000   Max.   :99.0000   Max.   :9999.0  
 NA's   :4                                          NA's   :11      
     RHQ131          RHQ160           SLD012           SLD013      
 Min.   :1.000   Min.   : 0.000   Min.   : 2.000   Min.   : 2.000  
 1st Qu.:1.000   1st Qu.: 2.000   1st Qu.: 6.500   1st Qu.: 7.000  
 Median :1.000   Median : 3.000   Median : 7.500   Median : 8.000  
 Mean   :1.114   Mean   : 3.159   Mean   : 7.359   Mean   : 8.231  
 3rd Qu.:1.000   3rd Qu.: 4.000   3rd Qu.: 8.000   3rd Qu.: 9.000  
 Max.   :7.000   Max.   :77.000   Max.   :14.000   Max.   :14.000  
 NA's   :1970    NA's   :1972     NA's   :34       NA's   :34      
     SLQ030          SLQ050          SMQ856          SMQ860     
 Min.   :0.000   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000   1st Qu.:1.000  
 Median :2.000   Median :2.000   Median :1.000   Median :1.000  
 Mean   :2.015   Mean   :1.711   Mean   :1.323   Mean   :1.423  
 3rd Qu.:3.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:2.000  
 Max.   :9.000   Max.   :9.000   Max.   :2.000   Max.   :9.000  
                                                                
     SMQ866          SMQ020        SMD641           WHD010         WHD020      
 Min.   :1.000   Min.   :1.0   Min.   : 0.000   Min.   :  50   Min.   :  86.0  
 1st Qu.:2.000   1st Qu.:1.0   1st Qu.: 0.000   1st Qu.:  63   1st Qu.: 152.0  
 Median :2.000   Median :2.0   Median : 0.000   Median :  66   Median : 180.0  
 Mean   :1.846   Mean   :1.6   Mean   : 6.859   Mean   : 247   Mean   : 353.9  
 3rd Qu.:2.000   3rd Qu.:2.0   3rd Qu.: 5.000   3rd Qu.:  70   3rd Qu.: 220.0  
 Max.   :2.000   Max.   :7.0   Max.   :99.000   Max.   :9999   Max.   :9999.0  
                               NA's   :724      NA's   :24                     
     WHQ040    
 Min.   :1.00  
 1st Qu.:2.00  
 Median :2.00  
 Mean   :2.18  
 3rd Qu.:2.00  
 Max.   :9.00  
               </code></pre>
</div>
</div>
</section>
<section id="cleaning-tasks" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="cleaning-tasks"><span class="header-section-number">1.6</span> Cleaning Tasks</h2>
<p>We now have a tibble called <code>nh_raw</code> containing 3931 NHANES participants in the rows and 64 variables in the columns. What must we do to clean up the data?</p>
<ol type="1">
<li>Check that every identifier (here, SEQN) is unique.</li>
<li>Ensure that all coded values for “Refused”, “Don’t Know” or “Missing” are interpreted as missing values by R.</li>
<li>Be sure all quantitative variables have plausible minimum and maximum values.</li>
<li>Replace the RIAGENDR variable with a new factor variable called SEX with levels Male and Female.</li>
<li>Convert all binary Yes/No variables to 1/0 numeric variables where 1 = Yes, 0 = No.</li>
<li>Create the PHQ-9 score from the nine relevant items in the depression screener (P_DPQ).</li>
<li>Use meaningful level names for all multi-categorical variables, and be sure R uses factors to represent them.</li>
<li>Clean and adjust the names of the variables to something more useful, as desired. (Usually, I will do this first, but in this case, I’ve decided to do it last.)</li>
</ol>
<p>Once we’ve accomplished these cleaning tasks, we’ll save the resulting tibble as an R data set we can use later, and we’ll summarize our final analytic variables in a proper codebook.</p>
</section>
<section id="our-identifying-variable" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="our-identifying-variable"><span class="header-section-number">1.7</span> Our identifying variable</h2>
<p>SEQN is meant to identify the rows (participants) in these data, with one row per SEQN. Is every SEQN unique?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(nh_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3931</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_distinct</span>(nh_raw<span class="sc">$</span>SEQN)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3931</code></pre>
</div>
</div>
<p>It looks like the number of rows in our tibble matches the number of unique (distinct) SEQN values, so we’re OK. I prefer to specify that the SEQN be maintained by R as a character variable, which reduces the chance of my accidentally including it in a model as if it were something meaningful.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_raw <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">SEQN =</span> <span class="fu">as.character</span>(SEQN))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="refused-dont-know" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="refused-dont-know"><span class="header-section-number">1.8</span> “Refused” &amp; “Don’t Know”</h2>
<p>Some of our variables have “hidden” missing values coded as “Refused” or “Don’t Know”. We must ensure that R sees these values as missing.</p>
<ul>
<li>The following variables use code 7 for Refused and 9 for Don’t Know:
<ul>
<li>DMDEDUC2, HUQ071, HUQ090, ALQ111, DEQ034D,</li>
<li>DPQ010, DPQ020, DPQ030, DPQ040, DPQ050,</li>
<li>DPQ060, DPQ070, DPQ080, DPQ090, DPQ100,</li>
<li>DBQ700, HIQ011, HIQ210, MCQ366A, MCQ366B,</li>
<li>MCQ371A, MCQ371B, PAQ605, PAQ650, RHQ131,</li>
<li>SLQ030, SLQ050, SMQ020, SMQ856, SMQ860,</li>
<li>SMQ866, WHQ040</li>
</ul></li>
<li>The following variables use code 9 for Unknown and 99 for Don’t Know:
<ul>
<li>OHQ870</li>
</ul></li>
<li>The following variables use code 77 for Refused and 99 for Unknown:
<ul>
<li>PAQ610, PAQ655, RHQ160, SMD641</li>
</ul></li>
<li>The following variables use code 777 for Refused and 999 for Don’t Know:
<ul>
<li>ALQ130</li>
</ul></li>
<li>The following variables use code 7777 for Refused and 9999 for Don’t Know:
<ul>
<li>PAD680, WHD010, WHD020</li>
</ul></li>
</ul>
<p>The <code>replace_with_na()</code> set of functions from the <code>naniar</code> package can be very helpful here<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_with_na_at</span>(<span class="at">.vars =</span> <span class="fu">c</span>(<span class="st">"DMDEDUC2"</span>, <span class="st">"HUQ071"</span>, <span class="st">"HUQ090"</span>, <span class="st">"ALQ111"</span>, </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"DEQ034D"</span>, <span class="st">"DPQ010"</span>, <span class="st">"DPQ020"</span>, <span class="st">"DPQ030"</span>,</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"DPQ040"</span>, <span class="st">"DPQ050"</span>, <span class="st">"DPQ060"</span>, <span class="st">"DPQ070"</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"DPQ080"</span>, <span class="st">"DPQ090"</span>, <span class="st">"DPQ100"</span>, <span class="st">"DBQ700"</span>,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"HIQ011"</span>, <span class="st">"HIQ210"</span>, <span class="st">"MCQ366A"</span>, <span class="st">"MCQ366B"</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"MCQ371A"</span>, <span class="st">"MCQ371B"</span>, <span class="st">"PAQ605"</span>, <span class="st">"PAQ650"</span>, </span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"RHQ131"</span>, <span class="st">"SLQ030"</span>, <span class="st">"SLQ050"</span>, <span class="st">"SMQ020"</span>,</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"SMQ856"</span>, <span class="st">"SMQ860"</span>, <span class="st">"SMQ866"</span>, <span class="st">"WHQ040"</span>),</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>                     <span class="at">condition =</span> <span class="sc">~</span>.x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">9</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_with_na_at</span>(<span class="at">.vars =</span> <span class="fu">c</span>(<span class="st">"OHQ870"</span>),</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">condition =</span> <span class="sc">~</span>.x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">99</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_with_na_at</span>(<span class="at">.vars =</span> <span class="fu">c</span>(<span class="st">"PAQ610"</span>, <span class="st">"PAQ655"</span>, <span class="st">"RHQ160"</span>, <span class="st">"SMD641"</span>),</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">condition =</span> <span class="sc">~</span>.x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">77</span>, <span class="dv">99</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_with_na_at</span>(<span class="at">.vars =</span> <span class="fu">c</span>(<span class="st">"ALQ130"</span>),</span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">condition =</span> <span class="sc">~</span>.x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">777</span>, <span class="dv">999</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replace_with_na_at</span>(<span class="at">.vars =</span> <span class="fu">c</span>(<span class="st">"PAD680"</span>, <span class="st">"WHD010"</span>, <span class="st">"WHD020"</span>),</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">condition =</span> <span class="sc">~</span>.x <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7777</span>, <span class="dv">9999</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="variables-without-variation" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="variables-without-variation"><span class="header-section-number">1.9</span> Variables without Variation</h2>
<p>Note first that we have two variables which now have the same value for all participants.</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Codes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">RIDSTATR</td>
<td style="text-align: center;">Interview and examination status</td>
<td style="text-align: left;">2 = Both</td>
</tr>
<tr class="even">
<td style="text-align: right;">OHDEXSTS</td>
<td style="text-align: center;">Complete oral health exam?</td>
<td style="text-align: left;">1 = Yes</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">count</span>(RIDSTATR, OHDEXSTS)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  RIDSTATR OHDEXSTS     n
     &lt;dbl&gt;    &lt;dbl&gt; &lt;int&gt;
1        2        1  3931</code></pre>
</div>
</div>
<p>We won’t use these variables in our analyses, now that we’ve verified them.</p>
</section>
<section id="quantitative-variables" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="quantitative-variables"><span class="header-section-number">1.10</span> Quantitative Variables</h2>
<p>Here are our quantitative variables, and some key information about the values we observe, along with their units of measurement. Our job here is to check the ranges of these variables, and be sure we have no unreasonable values. It’s also helpful to keep an eye on how much missingness we might have to deal with.</p>
<p>We’re also going to rename each of these variables, as indicated.</p>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 29%">
<col style="width: 14%">
<col style="width: 8%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">New <br> Name</th>
<th style="text-align: center;">NHANES <br> Name</th>
<th style="text-align: center;">Description</th>
<th style="text-align: center;">Units</th>
<th style="text-align: right;"># NA</th>
<th style="text-align: center;">Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">AGE</td>
<td style="text-align: center;">RIDAGEYR</td>
<td style="text-align: center;">Age at screening</td>
<td style="text-align: center;">years</td>
<td style="text-align: right;">0</td>
<td style="text-align: center;">30, 59</td>
</tr>
<tr class="even">
<td style="text-align: center;">WEIGHT</td>
<td style="text-align: center;">BMXWT</td>
<td style="text-align: center;">Body weight</td>
<td style="text-align: center;">kg</td>
<td style="text-align: right;">28</td>
<td style="text-align: center;">36.9, 254.3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">HEIGHT</td>
<td style="text-align: center;">BMXHT</td>
<td style="text-align: center;">Standing height</td>
<td style="text-align: center;">cm</td>
<td style="text-align: right;">30</td>
<td style="text-align: center;">135.3, 198.7</td>
</tr>
<tr class="even">
<td style="text-align: center;">WAIST</td>
<td style="text-align: center;">BMXWAIST</td>
<td style="text-align: center;">Waist Circumference</td>
<td style="text-align: center;">cm</td>
<td style="text-align: right;">149</td>
<td style="text-align: center;">57.9, 178</td>
</tr>
<tr class="odd">
<td style="text-align: center;">SBP</td>
<td style="text-align: center;">BPXOSY2</td>
<td style="text-align: center;">Systolic BP (2nd reading)</td>
<td style="text-align: center;">mm Hg</td>
<td style="text-align: right;">346</td>
<td style="text-align: center;">69, 222</td>
</tr>
<tr class="even">
<td style="text-align: center;">DBP</td>
<td style="text-align: center;">BPXODI2</td>
<td style="text-align: center;">Diastolic BP (2nd reading)</td>
<td style="text-align: center;">mm Hg</td>
<td style="text-align: right;">346</td>
<td style="text-align: center;">31, 136</td>
</tr>
<tr class="odd">
<td style="text-align: center;">PULSE1</td>
<td style="text-align: center;">BPXOPLS1</td>
<td style="text-align: center;">Pulse (1st reading)</td>
<td style="text-align: center;"><span class="math inline">\(\frac{beats}{minute}\)</span></td>
<td style="text-align: right;">615</td>
<td style="text-align: center;">38, 126</td>
</tr>
<tr class="even">
<td style="text-align: center;">PULSE2</td>
<td style="text-align: center;">BPXOPLS2</td>
<td style="text-align: center;">Pulse (2nd reading)</td>
<td style="text-align: center;"><span class="math inline">\(\frac{beats}{minute}\)</span></td>
<td style="text-align: right;">617</td>
<td style="text-align: center;">37, 121</td>
</tr>
<tr class="odd">
<td style="text-align: center;">WBC</td>
<td style="text-align: center;">LBXWBCSI</td>
<td style="text-align: center;">White blood cell count</td>
<td style="text-align: center;"><span class="math inline">\(\frac{\mbox{1000 cells}}{uL}\)</span></td>
<td style="text-align: right;">176</td>
<td style="text-align: center;">2.3, 22.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">PLATELET</td>
<td style="text-align: center;">LBXPLTSI</td>
<td style="text-align: center;">Platelet count</td>
<td style="text-align: center;"><span class="math inline">\(\frac{\mbox{1000 cells}}{uL}\)</span></td>
<td style="text-align: right;">176</td>
<td style="text-align: center;">47, 818</td>
</tr>
<tr class="odd">
<td style="text-align: center;">HSCRP</td>
<td style="text-align: center;">LBXHSCRP</td>
<td style="text-align: center;">High-Sensitivity <br> C-Reactive Protein</td>
<td style="text-align: center;"><span class="math inline">\(mg/L\)</span></td>
<td style="text-align: right;">267</td>
<td style="text-align: center;">0.11, 182.82</td>
</tr>
<tr class="even">
<td style="text-align: center;">DRINKS</td>
<td style="text-align: center;">ALQ130</td>
<td style="text-align: center;">Average daily <br> Alcoholic drinks</td>
<td style="text-align: center;">drinks</td>
<td style="text-align: right;">789</td>
<td style="text-align: center;">0, 15</td>
</tr>
<tr class="odd">
<td style="text-align: center;">FLOSS</td>
<td style="text-align: center;">OHQ870</td>
<td style="text-align: center;">Days using dental floss <br> in past week</td>
<td style="text-align: center;">days</td>
<td style="text-align: right;">4</td>
<td style="text-align: center;">0, 7</td>
</tr>
<tr class="even">
<td style="text-align: center;">VIGWK_D</td>
<td style="text-align: center;">PAQ610</td>
<td style="text-align: center;">Average days per week <br> with Vigorous work</td>
<td style="text-align: center;">days</td>
<td style="text-align: right;">5</td>
<td style="text-align: center;">0, 7</td>
</tr>
<tr class="odd">
<td style="text-align: center;">VIGREC_D</td>
<td style="text-align: center;">PAQ655</td>
<td style="text-align: center;">Average days per week <br> with Vigorous recreation</td>
<td style="text-align: center;">days</td>
<td style="text-align: right;">1</td>
<td style="text-align: center;">0, 7</td>
</tr>
<tr class="even">
<td style="text-align: center;">SEDATE</td>
<td style="text-align: center;">PAD680</td>
<td style="text-align: center;">Average daily <br> Sedentary activity</td>
<td style="text-align: center;">minutes</td>
<td style="text-align: right;">24</td>
<td style="text-align: center;">2, 1320</td>
</tr>
<tr class="odd">
<td style="text-align: center;">PREGNANT</td>
<td style="text-align: center;">RHQ160</td>
<td style="text-align: center;">Pregnancies</td>
<td style="text-align: center;">times</td>
<td style="text-align: right;">1975</td>
<td style="text-align: center;">0, 11</td>
</tr>
<tr class="even">
<td style="text-align: center;">SLPWKDAY</td>
<td style="text-align: center;">SLD012</td>
<td style="text-align: center;">Usual sleep (weekdays)</td>
<td style="text-align: center;">hours</td>
<td style="text-align: right;">34</td>
<td style="text-align: center;">2, 14</td>
</tr>
<tr class="odd">
<td style="text-align: center;">SLPWKEND</td>
<td style="text-align: center;">SLD013</td>
<td style="text-align: center;">Usual sleep (weekends)</td>
<td style="text-align: center;">hours</td>
<td style="text-align: right;">34</td>
<td style="text-align: center;">2, 14</td>
</tr>
<tr class="even">
<td style="text-align: center;">SMOKE30</td>
<td style="text-align: center;">SMD641</td>
<td style="text-align: center;">Days in past 30 when <br> you smoked a cigarette</td>
<td style="text-align: center;">days</td>
<td style="text-align: right;">726</td>
<td style="text-align: center;">0, 30</td>
</tr>
<tr class="odd">
<td style="text-align: center;">ESTHT</td>
<td style="text-align: center;">WHD010</td>
<td style="text-align: center;">Self-reported height</td>
<td style="text-align: center;">inches</td>
<td style="text-align: right;">95</td>
<td style="text-align: center;">50, 81</td>
</tr>
<tr class="even">
<td style="text-align: center;">ESTWT</td>
<td style="text-align: center;">WHD020</td>
<td style="text-align: center;">Self-reported weight</td>
<td style="text-align: center;">pounds</td>
<td style="text-align: right;">68</td>
<td style="text-align: center;">86, 578</td>
</tr>
</tbody>
</table>
<p>To insert the number of missing values and range (minimum, maximum among non-missing values) into the table, I used inline R code like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_miss</span>(nh_fixing<span class="sc">$</span>BMXWT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 28</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(nh_fixing<span class="sc">$</span>BMXWT, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  36.9 254.3</code></pre>
</div>
</div>
<section id="renaming-the-quantities" class="level3" data-number="1.10.1">
<h3 data-number="1.10.1" class="anchored" data-anchor-id="renaming-the-quantities"><span class="header-section-number">1.10.1</span> Renaming the Quantities</h3>
<p>Here’s the renaming code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">AGE =</span> RIDAGEYR, <span class="at">WEIGHT =</span> BMXWT, <span class="at">HEIGHT =</span> BMXHT,</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">WAIST =</span> BMXWAIST, <span class="at">SBP =</span> BPXOSY2, <span class="at">DBP =</span> BPXODI2,</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">PULSE1 =</span> BPXOPLS1, <span class="at">PULSE2 =</span> BPXOPLS2, <span class="at">WBC =</span> LBXWBCSI,</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">PLATELET =</span> LBXPLTSI, <span class="at">HSCRP =</span> LBXHSCRP, <span class="at">DRINKS =</span> ALQ130,</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">FLOSS =</span> OHQ870, <span class="at">VIGWK_D =</span> PAQ610, <span class="at">VIGREC_D =</span> PAQ655,</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">SEDATE =</span> PAD680, <span class="at">PREGS =</span> RHQ160, <span class="at">SLPWKDAY =</span> SLD012, </span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">SLPWKEND =</span> SLD013, <span class="at">SMOKE30 =</span> SMD641, </span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">ESTHT =</span> WHD010, <span class="at">ESTWT =</span> WHD020)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sampling-weights" class="level3" data-number="1.10.2">
<h3 data-number="1.10.2" class="anchored" data-anchor-id="sampling-weights"><span class="header-section-number">1.10.2</span> Sampling Weights</h3>
<p>Here are the sampling weights, which I think of as unitless, typically, though they represent people.</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: right;"># NA</th>
<th style="text-align: center;">Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">WTINTPRP</td>
<td style="text-align: center;">Sampling Weight (interviews)</td>
<td style="text-align: right;">0</td>
<td style="text-align: center;">2467.1, 311265.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">WTMECPRP</td>
<td style="text-align: center;">Sampling Weight (examinations)</td>
<td style="text-align: right;">0</td>
<td style="text-align: center;">2589.2, 321573.5</td>
</tr>
</tbody>
</table>
<p>Note that to obtain these ranges formatted like this, I had to use some additional code in the table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fu">round_half_up</span>(<span class="fu">range</span>(nh_fixing<span class="sc">$</span>WTINTPRP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),<span class="dv">1</span>), <span class="at">scientific =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "  2467.1" "311265.2"</code></pre>
</div>
</div>
</section>
</section>
<section id="binary-variables" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="binary-variables"><span class="header-section-number">1.11</span> Binary Variables</h2>
<section id="sex-riagendr" class="level3" data-number="1.11.1">
<h3 data-number="1.11.1" class="anchored" data-anchor-id="sex-riagendr"><span class="header-section-number">1.11.1</span> Sex (RIAGENDR)</h3>
<p>To start, let’s do something about the variable describing the participant’s biological sex (so we’ll rename it to a more useful name), and then we’ll recode the values of the <code>SEX</code> variable to more useful choices.</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: right;">New Name</th>
<th style="text-align: center;">NHANES Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEX</td>
<td style="text-align: center;">RIAGENDR</td>
<td style="text-align: left;">Sex</td>
</tr>
</tbody>
</table>
<p>Note that we have more female than male subjects, and no missing values, as it turns out.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">count</span>(RIAGENDR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  RIAGENDR     n
     &lt;dbl&gt; &lt;int&gt;
1        1  1837
2        2  2094</code></pre>
</div>
</div>
<p>Now, let’s convert the information in <code>RIAGENDR</code> to <code>SEX</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">SEX =</span> RIAGENDR) <span class="sc">|&gt;</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SEX =</span> <span class="fu">factor</span>(<span class="fu">ifelse</span>(SEX <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Male"</span>, <span class="st">"Female"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And we’ll run a little “sanity check” here to ensure that we’ve recoded this variable properly<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">count</span>(SEX)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  SEX        n
  &lt;fct&gt;  &lt;int&gt;
1 Female  2094
2 Male    1837</code></pre>
</div>
</div>
</section>
<section id="yesno-variables" class="level3" data-number="1.11.2">
<h3 data-number="1.11.2" class="anchored" data-anchor-id="yesno-variables"><span class="header-section-number">1.11.2</span> Yes/No variables</h3>
<p>Now, let’s tackle the variables with code 1 = Yes, and 2 = No, and (potentially) some missing values. I’ll summarize each with the percentage of “Yes” responses (out of those with code 1 or 2) and the number of missing values.</p>
<table class="table">
<colgroup>
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 63%">
<col style="width: 6%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">New NAME</th>
<th style="text-align: right;">NHANES NAME</th>
<th style="text-align: center;">Description</th>
<th style="text-align: right;">% Yes</th>
<th style="text-align: right;"># NA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">HOSPITAL</td>
<td style="text-align: right;">HUQ071</td>
<td style="text-align: center;">Overnight hospital patient in past 12m?</td>
<td style="text-align: right;">8.7</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">MENTALH</td>
<td style="text-align: right;">HUQ090</td>
<td style="text-align: center;">Seen mental health professional past 12m?</td>
<td style="text-align: right;">12.1</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">EVERALC</td>
<td style="text-align: right;">ALQ111</td>
<td style="text-align: center;">Ever had a drink of alcohol?</td>
<td style="text-align: right;">91.1</td>
<td style="text-align: right;">205</td>
</tr>
<tr class="even">
<td style="text-align: right;">INSURNOW</td>
<td style="text-align: right;">HIQ011</td>
<td style="text-align: center;">Covered by health insurance now?</td>
<td style="text-align: right;">80.8</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: right;">NOINSUR</td>
<td style="text-align: right;">HIQ210</td>
<td style="text-align: center;">Time when no insurance in past year?</td>
<td style="text-align: right;">26.6</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="even">
<td style="text-align: right;">DR_LOSE</td>
<td style="text-align: right;">MCQ366A</td>
<td style="text-align: center;">Doctor told you to control/lose weight <br> in the past 12 months?</td>
<td style="text-align: right;">30.3</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DR_EXER</td>
<td style="text-align: right;">MCQ366B</td>
<td style="text-align: center;">Doctor told you to exercise <br> in the past 12 months?</td>
<td style="text-align: right;">42.7</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">NOW_LOSE</td>
<td style="text-align: right;">MCQ371A</td>
<td style="text-align: center;">Are you now controlling or losing weight?</td>
<td style="text-align: right;">63.2</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">NOW_EXER</td>
<td style="text-align: right;">MCQ371B</td>
<td style="text-align: center;">Are you now increasing exercise?</td>
<td style="text-align: right;">60.3</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">WORK_V</td>
<td style="text-align: right;">PAQ605</td>
<td style="text-align: center;">Vigorous work activity for 10 min/week?</td>
<td style="text-align: right;">28.4</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">REC_V</td>
<td style="text-align: right;">PAQ650</td>
<td style="text-align: center;">Vigorous recreational activity for 10 min/week?</td>
<td style="text-align: right;">26.9</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">EVERPREG</td>
<td style="text-align: right;">RHQ131</td>
<td style="text-align: center;">Ever been pregnant?</td>
<td style="text-align: right;">89.2</td>
<td style="text-align: right;">1972</td>
</tr>
<tr class="odd">
<td style="text-align: right;">SLPTROUB</td>
<td style="text-align: right;">SLQ050</td>
<td style="text-align: center;">Ever told a doctor you had trouble sleeping?</td>
<td style="text-align: right;">29.5</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">CIG100</td>
<td style="text-align: right;">SMQ020</td>
<td style="text-align: center;">Smoked at least 100 cigarettes in your life?</td>
<td style="text-align: right;">40.1</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">AWAYWORK</td>
<td style="text-align: right;">SMQ856</td>
<td style="text-align: center;">Last 7 days worked at a job not at home?</td>
<td style="text-align: right;">67.7</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">AWAYREST</td>
<td style="text-align: right;">SMQ860</td>
<td style="text-align: center;">Last 7 days spent time in a restaurant?</td>
<td style="text-align: right;">58.1</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">AWAYBAR</td>
<td style="text-align: right;">SMQ866</td>
<td style="text-align: center;">Last 7 days spent time in a bar?</td>
<td style="text-align: right;">15.4</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p>The inline code I used in the tables was, for example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round_half_up</span>(<span class="dv">100</span> <span class="sc">*</span> <span class="fu">sum</span>(nh_fixing<span class="sc">$</span>HUQ090 <span class="sc">==</span> <span class="st">"1"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>                <span class="fu">sum</span>(nh_fixing<span class="sc">$</span>HUQ090 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1"</span>,<span class="st">"2"</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">n_miss</span>(nh_fixing<span class="sc">$</span>HUQ090)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>To clean these (1 = Yes, 2 = No) variables, I’ll subtract the values from 2, to obtain variables where 1 = Yes and 0 = No.&nbsp;I’ll use the <code>across()</code> function within my <code>mutate()</code> statement so as to avoid having to type out each change individually<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(HUQ071, HUQ090, ALQ111, HIQ011, HIQ210,</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>                  MCQ366A, MCQ366B, MCQ371A, MCQ371B, PAQ605,</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>                  PAQ650, RHQ131, SLQ050, SMQ020, SMQ856,</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>                  SMQ860, SMQ866), </span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span> <span class="dv">2</span> <span class="sc">-</span> .x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s do just one of the relevant sanity checks here. In addition to verifying that our new variable has the values 0 and 1 (instead of 2 and 1), we want to be certain that we’ve maintained any missing values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">count</span>(SLQ050)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  SLQ050     n
   &lt;dbl&gt; &lt;int&gt;
1      0  2769
2      1  1159
3     NA     3</code></pre>
</div>
</div>
</section>
<section id="renaming-binary-variables" class="level3" data-number="1.11.3">
<h3 data-number="1.11.3" class="anchored" data-anchor-id="renaming-binary-variables"><span class="header-section-number">1.11.3</span> Renaming Binary Variables</h3>
<p>Here’s the renaming code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">HOSPITAL =</span> HUQ071, <span class="at">MENTALH =</span> HUQ090, <span class="at">EVERALC =</span> ALQ111,</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">INSURNOW =</span> HIQ011, <span class="at">NOINSUR =</span> HIQ210, <span class="at">DR_LOSE =</span> MCQ366A,</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">DR_EXER =</span> MCQ366B, <span class="at">NOW_LOSE =</span> MCQ371A, <span class="at">NOW_EXER =</span> MCQ371B,</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">WORK_V =</span> PAQ605, <span class="at">REC_V =</span> PAQ650, <span class="at">EVERPREG =</span> RHQ131, </span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">SLPTROUB =</span> SLQ050, <span class="at">CIG100 =</span>  SMQ020, <span class="at">AWAYWORK =</span> SMQ856,</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">AWAYREST =</span> SMQ860, <span class="at">AWAYBAR =</span> SMQ866)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="create-phq-9-scores" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="create-phq-9-scores"><span class="header-section-number">1.12</span> Create PHQ-9 Scores</h2>
<p>The questions below are asked to assess depression severity, following the prompt “Over the last two weeks, how often have you been bothered by any of the following problems?”</p>
<table class="table">
<colgroup>
<col style="width: 13%">
<col style="width: 50%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th style="text-align: center;">Description</th>
<th style="text-align: left;">Values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SEQN</td>
<td style="text-align: center;">Respondent Sequence Number <br> (participant ID)</td>
<td style="text-align: left;">link across databases</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ010</td>
<td style="text-align: center;">Have little interest in doing things</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ020</td>
<td style="text-align: center;">Feeling down, depressed or hopeless</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ030</td>
<td style="text-align: center;">Trouble sleeping or sleeping too much</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ040</td>
<td style="text-align: center;">Feeling tired or having little energy</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ050</td>
<td style="text-align: center;">Poor appetite or overeating</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ060</td>
<td style="text-align: center;">Feeling bad about yourself</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ070</td>
<td style="text-align: center;">Trouble concentrating on things</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DPQ080</td>
<td style="text-align: center;">Moving or speaking slowly or too fast</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ090</td>
<td style="text-align: center;">Thoughts you would be better off dead</td>
<td style="text-align: left;">0-3: see below</td>
</tr>
</tbody>
</table>
<ul>
<li>For DPQ010 - DPQ090, the codes are 0 = Not at all, 1 = Several days in the past two weeks, 2 = More than half the days in the past two weeks, 3 = Nearly every day in the past two weeks.</li>
</ul>
<section id="forming-the-phq-9-score" class="level3" data-number="1.12.1">
<h3 data-number="1.12.1" class="anchored" data-anchor-id="forming-the-phq-9-score"><span class="header-section-number">1.12.1</span> Forming the PHQ-9 Score</h3>
<p>One way to use this information is to sum the scores from items DPQ010 through DPQ090 to obtain a result on a scale from 0 - 27. Cutoffs of 5, 10, 15, and 20 then represent mild, moderate, moderately severe, and severe levels of depressive symptoms, respectively<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>. If we had no missing values in our responses, then this would be relatively straightforward.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PHQ9 =</span> DPQ010 <span class="sc">+</span> DPQ020 <span class="sc">+</span> DPQ030 <span class="sc">+</span> DPQ040 <span class="sc">+</span> DPQ050 <span class="sc">+</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>           DPQ060 <span class="sc">+</span> DPQ070 <span class="sc">+</span> DPQ080 <span class="sc">+</span> DPQ090)</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>temp <span class="sc">|&gt;</span> <span class="fu">count</span>(PHQ9) <span class="sc">|&gt;</span> <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
   PHQ9     n
  &lt;dbl&gt; &lt;int&gt;
1    22     9
2    23     5
3    24     2
4    25     2
5    26     3
6    NA   221</code></pre>
</div>
</div>
<p>It turns out that this formulation of PHQ9 regards as missing the result for any participant who failed to answer all 9 questions. A common approach to dealing with missing data in creating PHQ-9 scores<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> is to score all questionnaires with up to two missing values, replacing any missing values with the average score of the completed items.</p>
<p>So how many of our subjects are missing only one or two of the 9 items?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>temp2 <span class="ot">&lt;-</span> temp <span class="sc">|&gt;</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, DPQ010, DPQ020, DPQ030, DPQ040, DPQ050, DPQ060, </span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>         DPQ070, DPQ080, DPQ090) </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a><span class="fu">miss_case_table</span>(temp2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  n_miss_in_case n_cases pct_cases
           &lt;int&gt;   &lt;int&gt;     &lt;dbl&gt;
1              0    3710   94.4   
2              1       5    0.127 
3              2       3    0.0763
4              4       1    0.0254
5              9     212    5.39  </code></pre>
</div>
</div>
<p>With a little googling I found <a href="https://scriptsandstatistics.wordpress.com/2018/06/29/scoring-the-phq-9-questionnaire-using-r">an R script online</a> that will perform this task, and create three new variables:</p>
<ul>
<li><code>nvalid_phq9</code> = Number of Valid Responses (out of 9) to the PHQ-9 items</li>
<li><code>PHQ9</code> = PHQ-9 score (0-27 scale, higher values indicate more depression)</li>
<li><code>PHQ9_CAT</code> = factor describing PHQ-9 score
<ul>
<li>PHQ9 &gt; 20 means <code>PHQ9_CAT</code> is”severe”,</li>
<li>15-19 = “moderately severe”,</li>
<li>10-14 = “moderate”</li>
<li>5-9 = “mild”</li>
<li>0-4 = “minimal”</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>scoring_phq9 <span class="ot">&lt;-</span> <span class="cf">function</span>(data, items.phq9) {</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">%&gt;%</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">nvalid_phq9 =</span> <span class="fu">rowSums</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">select</span>(., items.phq9))),</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">nvalid_phq9 =</span> <span class="fu">as.integer</span>(nvalid_phq9),</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">mean.temp =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., items.phq9), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span>nvalid_phq9,</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.01.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">1</span>]])),</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.02.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">2</span>]])),</span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.03.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">3</span>]])),</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.04.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">4</span>]])),</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.05.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">5</span>]])),</span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.06.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">6</span>]])),</span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.07.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">7</span>]])),</span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.08.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">8</span>]])),</span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">phq.09.temp =</span> <span class="fu">as.integer</span>(<span class="fu">unlist</span>(data[items.phq9[<span class="dv">9</span>]]))) <span class="sc">%&gt;%</span></span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate_at</span>(<span class="fu">vars</span>(phq.<span class="fl">01.</span>temp<span class="sc">:</span>phq.<span class="fl">09.</span>temp),</span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a>              <span class="fu">funs</span>(<span class="fu">ifelse</span>(<span class="fu">is.na</span>(.), <span class="fu">round</span>(mean.temp), .))) <span class="sc">%&gt;%</span></span>
<span id="cb99-17"><a href="#cb99-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">score.temp =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., phq.<span class="fl">01.</span>temp<span class="sc">:</span>phq.<span class="fl">09.</span>temp), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb99-18"><a href="#cb99-18" aria-hidden="true" tabindex="-1"></a>           <span class="at">PHQ9 =</span> <span class="fu">ifelse</span>(nvalid_phq9 <span class="sc">&gt;=</span> <span class="dv">7</span>, <span class="fu">as.integer</span>(<span class="fu">round</span>(score.temp)), <span class="cn">NA</span>),</span>
<span id="cb99-19"><a href="#cb99-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">PHQ9_CAT =</span> <span class="fu">case_when</span>(</span>
<span id="cb99-20"><a href="#cb99-20" aria-hidden="true" tabindex="-1"></a>             PHQ9 <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">'severe'</span>,</span>
<span id="cb99-21"><a href="#cb99-21" aria-hidden="true" tabindex="-1"></a>             PHQ9 <span class="sc">&gt;=</span> <span class="dv">15</span> <span class="sc">~</span> <span class="st">'moderately severe'</span>,</span>
<span id="cb99-22"><a href="#cb99-22" aria-hidden="true" tabindex="-1"></a>             PHQ9 <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">'moderate'</span>,</span>
<span id="cb99-23"><a href="#cb99-23" aria-hidden="true" tabindex="-1"></a>             PHQ9 <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'mild'</span>,</span>
<span id="cb99-24"><a href="#cb99-24" aria-hidden="true" tabindex="-1"></a>             PHQ9 <span class="sc">&lt;</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">'minimal'</span>),</span>
<span id="cb99-25"><a href="#cb99-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">PHQ9_CAT =</span> <span class="fu">factor</span>(PHQ9_CAT, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'minimal'</span>, <span class="st">'mild'</span>,</span>
<span id="cb99-26"><a href="#cb99-26" aria-hidden="true" tabindex="-1"></a>                                                          <span class="st">'moderate'</span>, <span class="st">'moderately severe'</span>,</span>
<span id="cb99-27"><a href="#cb99-27" aria-hidden="true" tabindex="-1"></a>                                                          <span class="st">'severe'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb99-28"><a href="#cb99-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">ends_with</span>(<span class="st">"temp"</span>))</span>
<span id="cb99-29"><a href="#cb99-29" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb99-30"><a href="#cb99-30" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Applying this script to our <code>nh_fixing</code> data, our result is:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>items.phq9 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DPQ010"</span>, <span class="st">"DPQ020"</span>, <span class="st">"DPQ030"</span>, <span class="st">"DPQ040"</span>, <span class="st">"DPQ050"</span>,</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">"DPQ060"</span>, <span class="st">"DPQ070"</span>, <span class="st">"DPQ080"</span>, <span class="st">"DPQ090"</span>)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">%&gt;%</span> <span class="fu">scoring_phq9</span>(., <span class="fu">all_of</span>(items.phq9))</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">count</span>(nvalid_phq9, PHQ9, PHQ9_CAT)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 4
   nvalid_phq9  PHQ9 PHQ9_CAT     n
         &lt;int&gt; &lt;int&gt; &lt;fct&gt;    &lt;int&gt;
 1           0    NA &lt;NA&gt;       212
 2           5    NA &lt;NA&gt;         1
 3           7     1 minimal      1
 4           7     2 minimal      1
 5           7     7 mild         1
 6           8     1 minimal      2
 7           8     2 minimal      1
 8           8     3 minimal      1
 9           8     8 mild         1
10           9     0 minimal   1233
# … with 26 more rows</code></pre>
</div>
</div>
</section>
<section id="distribution-of-phq-9-score" class="level3" data-number="1.12.2">
<h3 data-number="1.12.2" class="anchored" data-anchor-id="distribution-of-phq-9-score"><span class="header-section-number">1.12.2</span> Distribution of PHQ-9 Score</h3>
<p>Here’s a quick look at the distribution of PHQ-9 scores in our <code>nh_fixing</code> data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="fu">complete.cases</span>(PHQ9, PHQ9_CAT)) <span class="sc">%&gt;%</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(., <span class="fu">aes</span>(<span class="at">x =</span> PHQ9, <span class="at">fill =</span> PHQ9_CAT)) <span class="sc">+</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span> </span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"PHQ-9 Scores for subjects in `nh_fixing`"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="01-nhanes_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="fixing-the-dpq100-variable" class="level3" data-number="1.12.3">
<h3 data-number="1.12.3" class="anchored" data-anchor-id="fixing-the-dpq100-variable"><span class="header-section-number">1.12.3</span> Fixing the <code>DPQ100</code> variable</h3>
<p>The DPQ100 variable should be 0 (Not at all difficult) if the PHQ-9 score is zero. We need to fix this, because NHANES participants who answered 0 (Not at all) to each of the nine elements contained in the PHQ-9 were not asked the DPQ100 question. So, we set the value of DPQ100 to be 0 if PHQ9 is 0.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DPQ100 =</span> <span class="fu">ifelse</span>(PHQ9 <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">0</span>, DPQ100))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This will eliminate the “automatic missing” values in <code>DPQ100</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(DPQ100)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> DPQ100    n    percent valid_percent
      0 3039 0.77308573    0.81781485
      1  541 0.13762401    0.14558665
      2   93 0.02365810    0.02502691
      3   43 0.01093869    0.01157158
     NA  215 0.05469346            NA</code></pre>
</div>
</div>
</section>
</section>
<section id="multi-categorical-variables" class="level2" data-number="1.13">
<h2 data-number="1.13" class="anchored" data-anchor-id="multi-categorical-variables"><span class="header-section-number">1.13</span> Multi-Categorical Variables</h2>
<p>Our remaining categorical variables with more than two levels are:</p>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 42%">
<col style="width: 27%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">RIDRETH3</td>
<td>Race/Hispanic origin</td>
<td style="text-align: center;">1, 2, 3, 4, 6, 7</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">DMDEDUC2</td>
<td>Education Level</td>
<td style="text-align: center;">1, 2, 3, 4, 5</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">OHAREC</td>
<td>Overall Recommendation for Care</td>
<td style="text-align: center;">1, 2, 3, 4</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">HUQ010</td>
<td>General health condition</td>
<td style="text-align: center;">1, 2, 3, 4, 5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DEQ034D</td>
<td>Use sunscreen if outside on very sunny day?</td>
<td style="text-align: center;">1, 2, 3, 4, 5</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="even">
<td style="text-align: right;">DPQ100</td>
<td>Difficulty depression problems have caused</td>
<td style="text-align: center;">0, 1, 2, 3</td>
<td style="text-align: right;">215</td>
</tr>
<tr class="odd">
<td style="text-align: right;">DBQ700</td>
<td>How healthy is your diet?</td>
<td style="text-align: center;">1, 2, 3, 4, 5</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">FSDAD</td>
<td>Adult food security in last 12m</td>
<td style="text-align: center;">1, 2, 3, 4</td>
<td style="text-align: right;">231</td>
</tr>
<tr class="odd">
<td style="text-align: right;">SLQ030</td>
<td>How often do you snore?</td>
<td style="text-align: center;">0, 1, 2, 3</td>
<td style="text-align: right;">219</td>
</tr>
<tr class="even">
<td style="text-align: right;">WHQ040</td>
<td>Like to weigh more, less, or same?</td>
<td style="text-align: center;">1, 2, 3</td>
<td style="text-align: right;">3</td>
</tr>
</tbody>
</table>
<section id="creating-raceeth-from-ridreth3" class="level3" data-number="1.13.1">
<h3 data-number="1.13.1" class="anchored" data-anchor-id="creating-raceeth-from-ridreth3"><span class="header-section-number">1.13.1</span> Creating RACEETH from RIDRETH3</h3>
<p>At the moment, our <code>RIDRETH3</code> data look like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>t_ridreth3 <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(RIDRETH3) <span class="sc">|&gt;</span> <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Code =</span> <span class="fu">c</span>(<span class="st">"Mexican American"</span>, <span class="st">"Other Hispanic"</span>, <span class="st">"Non-Hispanic White"</span>, </span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Non-Hispanic Black"</span>, <span class="st">"Non-Hispanic Asian"</span>, <span class="st">"Other Race"</span>))</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gt</span>(t_ridreth3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="uggggihxdk" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#uggggihxdk) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#uggggihxdk) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#uggggihxdk) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#uggggihxdk) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#uggggihxdk) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#uggggihxdk) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#uggggihxdk) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#uggggihxdk) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#uggggihxdk) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#uggggihxdk) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#uggggihxdk) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#uggggihxdk) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#uggggihxdk) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#uggggihxdk) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uggggihxdk) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#uggggihxdk) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#uggggihxdk) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uggggihxdk) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#uggggihxdk) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uggggihxdk) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#uggggihxdk) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uggggihxdk) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uggggihxdk) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uggggihxdk) .gt_left {
  text-align: left;
}

:where(#uggggihxdk) .gt_center {
  text-align: center;
}

:where(#uggggihxdk) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#uggggihxdk) .gt_font_normal {
  font-weight: normal;
}

:where(#uggggihxdk) .gt_font_bold {
  font-weight: bold;
}

:where(#uggggihxdk) .gt_font_italic {
  font-style: italic;
}

:where(#uggggihxdk) .gt_super {
  font-size: 65%;
}

:where(#uggggihxdk) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#uggggihxdk) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#uggggihxdk) .gt_indent_1 {
  text-indent: 5px;
}

:where(#uggggihxdk) .gt_indent_2 {
  text-indent: 10px;
}

:where(#uggggihxdk) .gt_indent_3 {
  text-indent: 15px;
}

:where(#uggggihxdk) .gt_indent_4 {
  text-indent: 20px;
}

:where(#uggggihxdk) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="RIDRETH3">RIDRETH3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="percent">percent</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Code">Code</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="RIDRETH3" class="gt_row gt_right">1</td>
<td headers="n" class="gt_row gt_right">500</td>
<td headers="percent" class="gt_row gt_right">12.7%</td>
<td headers="Code" class="gt_row gt_left">Mexican American</td></tr>
    <tr><td headers="RIDRETH3" class="gt_row gt_right">2</td>
<td headers="n" class="gt_row gt_right">403</td>
<td headers="percent" class="gt_row gt_right">10.3%</td>
<td headers="Code" class="gt_row gt_left">Other Hispanic</td></tr>
    <tr><td headers="RIDRETH3" class="gt_row gt_right">3</td>
<td headers="n" class="gt_row gt_right">1192</td>
<td headers="percent" class="gt_row gt_right">30.3%</td>
<td headers="Code" class="gt_row gt_left">Non-Hispanic White</td></tr>
    <tr><td headers="RIDRETH3" class="gt_row gt_right">4</td>
<td headers="n" class="gt_row gt_right">1049</td>
<td headers="percent" class="gt_row gt_right">26.7%</td>
<td headers="Code" class="gt_row gt_left">Non-Hispanic Black</td></tr>
    <tr><td headers="RIDRETH3" class="gt_row gt_right">6</td>
<td headers="n" class="gt_row gt_right">588</td>
<td headers="percent" class="gt_row gt_right">15.0%</td>
<td headers="Code" class="gt_row gt_left">Non-Hispanic Asian</td></tr>
    <tr><td headers="RIDRETH3" class="gt_row gt_right">7</td>
<td headers="n" class="gt_row gt_right">199</td>
<td headers="percent" class="gt_row gt_right">5.1%</td>
<td headers="Code" class="gt_row gt_left">Other Race</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Now, we’ll turn this <code>RIDRETH3</code> variable into a new <strong>factor</strong> called <code>RACEETH</code> with meaningful levels, and then sort those levels by their frequency in the data. We’ll also collapse together the Mexican American and Other Hispanic levels, not because the distinction is irrelevant, but more to demonstrate how this might be done.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RACEETH =</span> </span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(RIDRETH3), </span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Hispanic"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Hispanic"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Non-H White"</span> <span class="ot">=</span> <span class="st">"3"</span>,</span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Non-H Black"</span> <span class="ot">=</span> <span class="st">"4"</span>,</span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Non-H Asian"</span> <span class="ot">=</span> <span class="st">"6"</span>,</span>
<span id="cb107-10"><a href="#cb107-10" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Other Race"</span> <span class="ot">=</span> <span class="st">"7"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb107-11"><a href="#cb107-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RACEETH =</span> <span class="fu">fct_infreq</span>(RACEETH))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I’m using <code>fct_infreq()</code> here to sort the (nominal) Race and Ethnicity data so that the most common column appears first, and will thus be treated as the “baseline” level in models. Here is the resulting order.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">count</span>(RACEETH)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  RACEETH         n
  &lt;fct&gt;       &lt;int&gt;
1 Non-H White  1192
2 Non-H Black  1049
3 Hispanic      903
4 Non-H Asian   588
5 Other Race    199</code></pre>
</div>
</div>
<p>Now, let’s check<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> to see if RACEETH and RIDRETH3 include the same information (after collapsing the Mexican American and Other Hispanic categories.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">count</span>(RACEETH, RIDRETH3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  RACEETH     RIDRETH3     n
  &lt;fct&gt;          &lt;dbl&gt; &lt;int&gt;
1 Non-H White        3  1192
2 Non-H Black        4  1049
3 Hispanic           1   500
4 Hispanic           2   403
5 Non-H Asian        6   588
6 Other Race         7   199</code></pre>
</div>
</div>
</section>
<section id="creating-educ-from-dmdeduc2" class="level3" data-number="1.13.2">
<h3 data-number="1.13.2" class="anchored" data-anchor-id="creating-educ-from-dmdeduc2"><span class="header-section-number">1.13.2</span> Creating EDUC from DMDEDUC2</h3>
<p>At the moment, our <code>DMDEDUC2</code> data look like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>t_dmdeduc2 <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(DMDEDUC2) <span class="sc">|&gt;</span> <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Code =</span> <span class="fu">c</span>(<span class="st">"Less than 9th grade"</span>, <span class="st">"9th-11th grade"</span>, <span class="st">"High School Grad"</span>, </span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"Some College / AA"</span>, <span class="st">"College Grad"</span>, <span class="st">"Missing"</span>))</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a><span class="fu">gt</span>(t_dmdeduc2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="hnshmiuzbz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#hnshmiuzbz) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#hnshmiuzbz) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#hnshmiuzbz) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#hnshmiuzbz) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#hnshmiuzbz) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#hnshmiuzbz) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#hnshmiuzbz) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#hnshmiuzbz) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#hnshmiuzbz) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#hnshmiuzbz) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#hnshmiuzbz) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#hnshmiuzbz) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#hnshmiuzbz) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#hnshmiuzbz) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnshmiuzbz) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#hnshmiuzbz) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#hnshmiuzbz) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnshmiuzbz) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#hnshmiuzbz) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnshmiuzbz) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#hnshmiuzbz) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnshmiuzbz) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#hnshmiuzbz) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#hnshmiuzbz) .gt_left {
  text-align: left;
}

:where(#hnshmiuzbz) .gt_center {
  text-align: center;
}

:where(#hnshmiuzbz) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#hnshmiuzbz) .gt_font_normal {
  font-weight: normal;
}

:where(#hnshmiuzbz) .gt_font_bold {
  font-weight: bold;
}

:where(#hnshmiuzbz) .gt_font_italic {
  font-style: italic;
}

:where(#hnshmiuzbz) .gt_super {
  font-size: 65%;
}

:where(#hnshmiuzbz) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#hnshmiuzbz) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#hnshmiuzbz) .gt_indent_1 {
  text-indent: 5px;
}

:where(#hnshmiuzbz) .gt_indent_2 {
  text-indent: 10px;
}

:where(#hnshmiuzbz) .gt_indent_3 {
  text-indent: 15px;
}

:where(#hnshmiuzbz) .gt_indent_4 {
  text-indent: 20px;
}

:where(#hnshmiuzbz) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="DMDEDUC2">DMDEDUC2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="percent">percent</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="valid_percent">valid_percent</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Code">Code</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="DMDEDUC2" class="gt_row gt_right">1</td>
<td headers="n" class="gt_row gt_right">272</td>
<td headers="percent" class="gt_row gt_right">6.9%</td>
<td headers="valid_percent" class="gt_row gt_right">6.9%</td>
<td headers="Code" class="gt_row gt_left">Less than 9th grade</td></tr>
    <tr><td headers="DMDEDUC2" class="gt_row gt_right">2</td>
<td headers="n" class="gt_row gt_right">424</td>
<td headers="percent" class="gt_row gt_right">10.8%</td>
<td headers="valid_percent" class="gt_row gt_right">10.8%</td>
<td headers="Code" class="gt_row gt_left">9th-11th grade</td></tr>
    <tr><td headers="DMDEDUC2" class="gt_row gt_right">3</td>
<td headers="n" class="gt_row gt_right">850</td>
<td headers="percent" class="gt_row gt_right">21.6%</td>
<td headers="valid_percent" class="gt_row gt_right">21.6%</td>
<td headers="Code" class="gt_row gt_left">High School Grad</td></tr>
    <tr><td headers="DMDEDUC2" class="gt_row gt_right">4</td>
<td headers="n" class="gt_row gt_right">1287</td>
<td headers="percent" class="gt_row gt_right">32.7%</td>
<td headers="valid_percent" class="gt_row gt_right">32.7%</td>
<td headers="Code" class="gt_row gt_left">Some College / AA</td></tr>
    <tr><td headers="DMDEDUC2" class="gt_row gt_right">5</td>
<td headers="n" class="gt_row gt_right">1097</td>
<td headers="percent" class="gt_row gt_right">27.9%</td>
<td headers="valid_percent" class="gt_row gt_right">27.9%</td>
<td headers="Code" class="gt_row gt_left">College Grad</td></tr>
    <tr><td headers="DMDEDUC2" class="gt_row gt_right">NA</td>
<td headers="n" class="gt_row gt_right">1</td>
<td headers="percent" class="gt_row gt_right">0.0%</td>
<td headers="valid_percent" class="gt_row gt_right">-</td>
<td headers="Code" class="gt_row gt_left">Missing</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Now, we’ll turn this <code>DMDEDUC2</code> variable into a new <strong>factor</strong> called <code>EDUC</code> with meaningful levels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">EDUC =</span> </span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(DMDEDUC2), </span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Less than 9th Grade"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"9th - 11th Grade"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"High School Grad"</span> <span class="ot">=</span> <span class="st">"3"</span>,</span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Some College / AA"</span> <span class="ot">=</span> <span class="st">"4"</span>,</span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"College Grad"</span> <span class="ot">=</span> <span class="st">"5"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once again, checking our work…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(EDUC, DMDEDUC2) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="tzppmztnjf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#tzppmztnjf) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#tzppmztnjf) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#tzppmztnjf) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#tzppmztnjf) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#tzppmztnjf) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#tzppmztnjf) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#tzppmztnjf) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#tzppmztnjf) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#tzppmztnjf) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#tzppmztnjf) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#tzppmztnjf) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#tzppmztnjf) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#tzppmztnjf) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#tzppmztnjf) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tzppmztnjf) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#tzppmztnjf) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#tzppmztnjf) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tzppmztnjf) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#tzppmztnjf) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tzppmztnjf) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#tzppmztnjf) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tzppmztnjf) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#tzppmztnjf) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tzppmztnjf) .gt_left {
  text-align: left;
}

:where(#tzppmztnjf) .gt_center {
  text-align: center;
}

:where(#tzppmztnjf) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#tzppmztnjf) .gt_font_normal {
  font-weight: normal;
}

:where(#tzppmztnjf) .gt_font_bold {
  font-weight: bold;
}

:where(#tzppmztnjf) .gt_font_italic {
  font-style: italic;
}

:where(#tzppmztnjf) .gt_super {
  font-size: 65%;
}

:where(#tzppmztnjf) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#tzppmztnjf) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#tzppmztnjf) .gt_indent_1 {
  text-indent: 5px;
}

:where(#tzppmztnjf) .gt_indent_2 {
  text-indent: 10px;
}

:where(#tzppmztnjf) .gt_indent_3 {
  text-indent: 15px;
}

:where(#tzppmztnjf) .gt_indent_4 {
  text-indent: 20px;
}

:where(#tzppmztnjf) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="EDUC">EDUC</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="4">4</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="5">5</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="NA_">NA_</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="EDUC" class="gt_row gt_center">Less than 9th Grade</td>
<td headers="1" class="gt_row gt_right">272</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="EDUC" class="gt_row gt_center">9th - 11th Grade</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">424</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="EDUC" class="gt_row gt_center">High School Grad</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">850</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="EDUC" class="gt_row gt_center">Some College / AA</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">1287</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="EDUC" class="gt_row gt_center">College Grad</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">1097</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="EDUC" class="gt_row gt_center">NA</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">1</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-dental-from-oharec" class="level3" data-number="1.13.3">
<h3 data-number="1.13.3" class="anchored" data-anchor-id="creating-dental-from-oharec"><span class="header-section-number">1.13.3</span> Creating DENTAL from OHAREC</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>t_oharec <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(OHAREC) <span class="sc">|&gt;</span> <span class="fu">adorn_pct_formatting</span>() <span class="sc">|&gt;</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Code =</span> <span class="fu">c</span>(<span class="st">"See a dentist immediately"</span>, <span class="st">"See a dentist within the next 2 weeks"</span>, <span class="st">"See a dentist at your earliest convenience"</span>, <span class="st">"Continue your regular routine care"</span>))</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="fu">gt</span>(t_oharec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="jvyoholjhq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#jvyoholjhq) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#jvyoholjhq) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#jvyoholjhq) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#jvyoholjhq) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#jvyoholjhq) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#jvyoholjhq) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#jvyoholjhq) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#jvyoholjhq) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#jvyoholjhq) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#jvyoholjhq) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#jvyoholjhq) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#jvyoholjhq) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#jvyoholjhq) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#jvyoholjhq) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jvyoholjhq) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#jvyoholjhq) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#jvyoholjhq) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jvyoholjhq) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#jvyoholjhq) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jvyoholjhq) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#jvyoholjhq) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jvyoholjhq) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#jvyoholjhq) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jvyoholjhq) .gt_left {
  text-align: left;
}

:where(#jvyoholjhq) .gt_center {
  text-align: center;
}

:where(#jvyoholjhq) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#jvyoholjhq) .gt_font_normal {
  font-weight: normal;
}

:where(#jvyoholjhq) .gt_font_bold {
  font-weight: bold;
}

:where(#jvyoholjhq) .gt_font_italic {
  font-style: italic;
}

:where(#jvyoholjhq) .gt_super {
  font-size: 65%;
}

:where(#jvyoholjhq) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#jvyoholjhq) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#jvyoholjhq) .gt_indent_1 {
  text-indent: 5px;
}

:where(#jvyoholjhq) .gt_indent_2 {
  text-indent: 10px;
}

:where(#jvyoholjhq) .gt_indent_3 {
  text-indent: 15px;
}

:where(#jvyoholjhq) .gt_indent_4 {
  text-indent: 20px;
}

:where(#jvyoholjhq) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="OHAREC">OHAREC</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="n">n</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="percent">percent</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Code">Code</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="OHAREC" class="gt_row gt_right">1</td>
<td headers="n" class="gt_row gt_right">4</td>
<td headers="percent" class="gt_row gt_right">0.1%</td>
<td headers="Code" class="gt_row gt_left">See a dentist immediately</td></tr>
    <tr><td headers="OHAREC" class="gt_row gt_right">2</td>
<td headers="n" class="gt_row gt_right">230</td>
<td headers="percent" class="gt_row gt_right">5.9%</td>
<td headers="Code" class="gt_row gt_left">See a dentist within the next 2 weeks</td></tr>
    <tr><td headers="OHAREC" class="gt_row gt_right">3</td>
<td headers="n" class="gt_row gt_right">1671</td>
<td headers="percent" class="gt_row gt_right">42.5%</td>
<td headers="Code" class="gt_row gt_left">See a dentist at your earliest convenience</td></tr>
    <tr><td headers="OHAREC" class="gt_row gt_right">4</td>
<td headers="n" class="gt_row gt_right">2026</td>
<td headers="percent" class="gt_row gt_right">51.5%</td>
<td headers="Code" class="gt_row gt_left">Continue your regular routine care</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>We’ll collapse categories 1 and 2 together since they are quite small.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DENTAL =</span> </span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(OHAREC), </span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"See dentist urgently"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"See dentist urgently"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"See dentist soon"</span> <span class="ot">=</span> <span class="st">"3"</span>,</span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Regular Routine"</span> <span class="ot">=</span> <span class="st">"4"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once again, checking our work…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(DENTAL, OHAREC) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="kgemqpaaia" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#kgemqpaaia) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#kgemqpaaia) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#kgemqpaaia) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#kgemqpaaia) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#kgemqpaaia) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#kgemqpaaia) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#kgemqpaaia) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#kgemqpaaia) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#kgemqpaaia) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#kgemqpaaia) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#kgemqpaaia) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#kgemqpaaia) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#kgemqpaaia) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#kgemqpaaia) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kgemqpaaia) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#kgemqpaaia) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#kgemqpaaia) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kgemqpaaia) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#kgemqpaaia) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kgemqpaaia) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#kgemqpaaia) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kgemqpaaia) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#kgemqpaaia) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#kgemqpaaia) .gt_left {
  text-align: left;
}

:where(#kgemqpaaia) .gt_center {
  text-align: center;
}

:where(#kgemqpaaia) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#kgemqpaaia) .gt_font_normal {
  font-weight: normal;
}

:where(#kgemqpaaia) .gt_font_bold {
  font-weight: bold;
}

:where(#kgemqpaaia) .gt_font_italic {
  font-style: italic;
}

:where(#kgemqpaaia) .gt_super {
  font-size: 65%;
}

:where(#kgemqpaaia) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#kgemqpaaia) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#kgemqpaaia) .gt_indent_1 {
  text-indent: 5px;
}

:where(#kgemqpaaia) .gt_indent_2 {
  text-indent: 10px;
}

:where(#kgemqpaaia) .gt_indent_3 {
  text-indent: 15px;
}

:where(#kgemqpaaia) .gt_indent_4 {
  text-indent: 20px;
}

:where(#kgemqpaaia) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="DENTAL">DENTAL</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="4">4</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="DENTAL" class="gt_row gt_center">See dentist urgently</td>
<td headers="1" class="gt_row gt_right">4</td>
<td headers="2" class="gt_row gt_right">230</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DENTAL" class="gt_row gt_center">See dentist soon</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">1671</td>
<td headers="4" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DENTAL" class="gt_row gt_center">Regular Routine</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">2026</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-sroh-from-huq010" class="level3" data-number="1.13.4">
<h3 data-number="1.13.4" class="anchored" data-anchor-id="creating-sroh-from-huq010"><span class="header-section-number">1.13.4</span> Creating SROH from HUQ010</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 28%">
<col style="width: 34%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">HUQ010</td>
<td>General health condition</td>
<td style="text-align: center;">1 = Excellent <br> 2 = Very Good <br> 3 = Good <br> 4 = Fair <br> 5 = Poor</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SROH =</span> </span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(HUQ010), </span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Excellent"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Very Good"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Good"</span> <span class="ot">=</span> <span class="st">"3"</span>,</span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Fair"</span> <span class="ot">=</span> <span class="st">"4"</span>,</span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Poor"</span> <span class="ot">=</span> <span class="st">"5"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Checking our work…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(SROH, HUQ010) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="uqlnjaactr" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#uqlnjaactr) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#uqlnjaactr) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#uqlnjaactr) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#uqlnjaactr) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#uqlnjaactr) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#uqlnjaactr) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#uqlnjaactr) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#uqlnjaactr) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#uqlnjaactr) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#uqlnjaactr) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#uqlnjaactr) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#uqlnjaactr) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#uqlnjaactr) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#uqlnjaactr) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uqlnjaactr) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#uqlnjaactr) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#uqlnjaactr) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uqlnjaactr) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#uqlnjaactr) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uqlnjaactr) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#uqlnjaactr) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uqlnjaactr) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#uqlnjaactr) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#uqlnjaactr) .gt_left {
  text-align: left;
}

:where(#uqlnjaactr) .gt_center {
  text-align: center;
}

:where(#uqlnjaactr) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#uqlnjaactr) .gt_font_normal {
  font-weight: normal;
}

:where(#uqlnjaactr) .gt_font_bold {
  font-weight: bold;
}

:where(#uqlnjaactr) .gt_font_italic {
  font-style: italic;
}

:where(#uqlnjaactr) .gt_super {
  font-size: 65%;
}

:where(#uqlnjaactr) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#uqlnjaactr) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#uqlnjaactr) .gt_indent_1 {
  text-indent: 5px;
}

:where(#uqlnjaactr) .gt_indent_2 {
  text-indent: 10px;
}

:where(#uqlnjaactr) .gt_indent_3 {
  text-indent: 15px;
}

:where(#uqlnjaactr) .gt_indent_4 {
  text-indent: 20px;
}

:where(#uqlnjaactr) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="SROH">SROH</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="4">4</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="5">5</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="SROH" class="gt_row gt_center">Excellent</td>
<td headers="1" class="gt_row gt_right">495</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SROH" class="gt_row gt_center">Very Good</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">1071</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SROH" class="gt_row gt_center">Good</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">1462</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SROH" class="gt_row gt_center">Fair</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">765</td>
<td headers="5" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SROH" class="gt_row gt_center">Poor</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">138</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-sunscr-from-deq034d" class="level3" data-number="1.13.5">
<h3 data-number="1.13.5" class="anchored" data-anchor-id="creating-sunscr-from-deq034d"><span class="header-section-number">1.13.5</span> Creating SUNSCR from DEQ034D</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 28%">
<col style="width: 34%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">DEQ034D</td>
<td>Use sunscreen if outside on very sunny day?</td>
<td style="text-align: center;">1 = Always <br> 2 = Most of the time <br> 3 = Sometimes <br> 4 = Rarely <br> 5 = Never</td>
<td style="text-align: right;">19</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SUNSCR =</span> </span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(DEQ034D), </span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Always"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Most of the time"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Sometimes"</span> <span class="ot">=</span> <span class="st">"3"</span>,</span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Rarely"</span> <span class="ot">=</span> <span class="st">"4"</span>,</span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Never"</span> <span class="ot">=</span> <span class="st">"5"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(SUNSCR, DEQ034D) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="zefixzioko" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#zefixzioko) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#zefixzioko) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#zefixzioko) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#zefixzioko) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#zefixzioko) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#zefixzioko) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zefixzioko) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#zefixzioko) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#zefixzioko) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#zefixzioko) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#zefixzioko) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#zefixzioko) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#zefixzioko) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#zefixzioko) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#zefixzioko) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#zefixzioko) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#zefixzioko) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#zefixzioko) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zefixzioko) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#zefixzioko) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#zefixzioko) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zefixzioko) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#zefixzioko) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#zefixzioko) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zefixzioko) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zefixzioko) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#zefixzioko) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#zefixzioko) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#zefixzioko) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#zefixzioko) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zefixzioko) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#zefixzioko) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#zefixzioko) .gt_left {
  text-align: left;
}

:where(#zefixzioko) .gt_center {
  text-align: center;
}

:where(#zefixzioko) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#zefixzioko) .gt_font_normal {
  font-weight: normal;
}

:where(#zefixzioko) .gt_font_bold {
  font-weight: bold;
}

:where(#zefixzioko) .gt_font_italic {
  font-style: italic;
}

:where(#zefixzioko) .gt_super {
  font-size: 65%;
}

:where(#zefixzioko) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#zefixzioko) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#zefixzioko) .gt_indent_1 {
  text-indent: 5px;
}

:where(#zefixzioko) .gt_indent_2 {
  text-indent: 10px;
}

:where(#zefixzioko) .gt_indent_3 {
  text-indent: 15px;
}

:where(#zefixzioko) .gt_indent_4 {
  text-indent: 20px;
}

:where(#zefixzioko) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="SUNSCR">SUNSCR</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="4">4</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="5">5</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="NA_">NA_</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="SUNSCR" class="gt_row gt_center">Always</td>
<td headers="1" class="gt_row gt_right">351</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SUNSCR" class="gt_row gt_center">Most of the time</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">485</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SUNSCR" class="gt_row gt_center">Sometimes</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">831</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SUNSCR" class="gt_row gt_center">Rarely</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">662</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SUNSCR" class="gt_row gt_center">Never</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">1583</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SUNSCR" class="gt_row gt_center">NA</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">19</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-deprdiff-from-dpq100" class="level3" data-number="1.13.6">
<h3 data-number="1.13.6" class="anchored" data-anchor-id="creating-deprdiff-from-dpq100"><span class="header-section-number">1.13.6</span> Creating DEPRDIFF from DPQ100</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 28%">
<col style="width: 34%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">DPQ100</td>
<td>Difficulty depression problems have caused</td>
<td style="text-align: center;">0 = Not at all difficult <br> 1 = Somewhat difficult <br> 2 = Very difficult <br> 3 = Extremely difficult</td>
<td style="text-align: right;">215</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DEPRDIFF =</span> </span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(DPQ100), </span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Not at all"</span> <span class="ot">=</span> <span class="st">"0"</span>, </span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Somewhat"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Very"</span> <span class="ot">=</span> <span class="st">"2"</span>,</span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Extremely"</span> <span class="ot">=</span> <span class="st">"3"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(DEPRDIFF, DPQ100) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="jgjntnotvj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#jgjntnotvj) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#jgjntnotvj) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#jgjntnotvj) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#jgjntnotvj) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#jgjntnotvj) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#jgjntnotvj) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#jgjntnotvj) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#jgjntnotvj) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#jgjntnotvj) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#jgjntnotvj) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#jgjntnotvj) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#jgjntnotvj) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#jgjntnotvj) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#jgjntnotvj) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jgjntnotvj) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#jgjntnotvj) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#jgjntnotvj) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jgjntnotvj) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#jgjntnotvj) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jgjntnotvj) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#jgjntnotvj) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jgjntnotvj) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#jgjntnotvj) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#jgjntnotvj) .gt_left {
  text-align: left;
}

:where(#jgjntnotvj) .gt_center {
  text-align: center;
}

:where(#jgjntnotvj) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#jgjntnotvj) .gt_font_normal {
  font-weight: normal;
}

:where(#jgjntnotvj) .gt_font_bold {
  font-weight: bold;
}

:where(#jgjntnotvj) .gt_font_italic {
  font-style: italic;
}

:where(#jgjntnotvj) .gt_super {
  font-size: 65%;
}

:where(#jgjntnotvj) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#jgjntnotvj) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#jgjntnotvj) .gt_indent_1 {
  text-indent: 5px;
}

:where(#jgjntnotvj) .gt_indent_2 {
  text-indent: 10px;
}

:where(#jgjntnotvj) .gt_indent_3 {
  text-indent: 15px;
}

:where(#jgjntnotvj) .gt_indent_4 {
  text-indent: 20px;
}

:where(#jgjntnotvj) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="DEPRDIFF">DEPRDIFF</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0">0</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="NA_">NA_</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="DEPRDIFF" class="gt_row gt_center">Not at all</td>
<td headers="0" class="gt_row gt_right">3039</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DEPRDIFF" class="gt_row gt_center">Somewhat</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">541</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DEPRDIFF" class="gt_row gt_center">Very</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">93</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DEPRDIFF" class="gt_row gt_center">Extremely</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">43</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DEPRDIFF" class="gt_row gt_center">NA</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">215</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-dietqual-from-dbq700" class="level3" data-number="1.13.7">
<h3 data-number="1.13.7" class="anchored" data-anchor-id="creating-dietqual-from-dbq700"><span class="header-section-number">1.13.7</span> Creating DIETQUAL from DBQ700</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 28%">
<col style="width: 34%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">DBQ700</td>
<td>How healthy is your diet?</td>
<td style="text-align: center;">1 = Excellent <br> 2 = Very Good <br> 3 = Good <br> 4 = Fair <br> 5 = Poor</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">DIETQUAL =</span> </span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(DBQ700), </span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Excellent"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Very Good"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Good"</span> <span class="ot">=</span> <span class="st">"3"</span>,</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Fair"</span> <span class="ot">=</span> <span class="st">"4"</span>,</span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Poor"</span> <span class="ot">=</span> <span class="st">"5"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(DIETQUAL, DBQ700) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="tdxfcbmoye" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#tdxfcbmoye) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#tdxfcbmoye) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#tdxfcbmoye) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#tdxfcbmoye) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#tdxfcbmoye) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#tdxfcbmoye) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#tdxfcbmoye) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#tdxfcbmoye) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#tdxfcbmoye) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#tdxfcbmoye) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#tdxfcbmoye) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#tdxfcbmoye) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#tdxfcbmoye) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#tdxfcbmoye) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tdxfcbmoye) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#tdxfcbmoye) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#tdxfcbmoye) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tdxfcbmoye) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#tdxfcbmoye) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tdxfcbmoye) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#tdxfcbmoye) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tdxfcbmoye) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#tdxfcbmoye) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#tdxfcbmoye) .gt_left {
  text-align: left;
}

:where(#tdxfcbmoye) .gt_center {
  text-align: center;
}

:where(#tdxfcbmoye) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#tdxfcbmoye) .gt_font_normal {
  font-weight: normal;
}

:where(#tdxfcbmoye) .gt_font_bold {
  font-weight: bold;
}

:where(#tdxfcbmoye) .gt_font_italic {
  font-style: italic;
}

:where(#tdxfcbmoye) .gt_super {
  font-size: 65%;
}

:where(#tdxfcbmoye) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#tdxfcbmoye) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#tdxfcbmoye) .gt_indent_1 {
  text-indent: 5px;
}

:where(#tdxfcbmoye) .gt_indent_2 {
  text-indent: 10px;
}

:where(#tdxfcbmoye) .gt_indent_3 {
  text-indent: 15px;
}

:where(#tdxfcbmoye) .gt_indent_4 {
  text-indent: 20px;
}

:where(#tdxfcbmoye) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="DIETQUAL">DIETQUAL</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="4">4</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="5">5</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="NA_">NA_</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="DIETQUAL" class="gt_row gt_center">Excellent</td>
<td headers="1" class="gt_row gt_right">260</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DIETQUAL" class="gt_row gt_center">Very Good</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">758</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DIETQUAL" class="gt_row gt_center">Good</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">1519</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DIETQUAL" class="gt_row gt_center">Fair</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">1082</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DIETQUAL" class="gt_row gt_center">Poor</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">311</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="DIETQUAL" class="gt_row gt_center">NA</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="5" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">1</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-foodsec-from-fsdad" class="level3" data-number="1.13.8">
<h3 data-number="1.13.8" class="anchored" data-anchor-id="creating-foodsec-from-fsdad"><span class="header-section-number">1.13.8</span> Creating FOODSEC from FSDAD</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 28%">
<col style="width: 34%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">FSDAD</td>
<td>Adult food security category for last 12m</td>
<td style="text-align: center;">1 = Full food security <br> 2 = Marginal food security <br> 3 = Low food security <br> 4 = Very low food security</td>
<td style="text-align: right;">231</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FOODSEC =</span> </span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(FSDAD), </span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Full"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Marginal"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Low"</span> <span class="ot">=</span> <span class="st">"3"</span>,</span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Very Low"</span> <span class="ot">=</span> <span class="st">"4"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(FOODSEC, FSDAD) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="esgijoibib" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#esgijoibib) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#esgijoibib) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#esgijoibib) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#esgijoibib) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#esgijoibib) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#esgijoibib) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#esgijoibib) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#esgijoibib) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#esgijoibib) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#esgijoibib) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#esgijoibib) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#esgijoibib) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#esgijoibib) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#esgijoibib) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#esgijoibib) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#esgijoibib) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#esgijoibib) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#esgijoibib) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#esgijoibib) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#esgijoibib) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#esgijoibib) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#esgijoibib) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#esgijoibib) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#esgijoibib) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#esgijoibib) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#esgijoibib) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#esgijoibib) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#esgijoibib) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#esgijoibib) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#esgijoibib) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#esgijoibib) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#esgijoibib) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#esgijoibib) .gt_left {
  text-align: left;
}

:where(#esgijoibib) .gt_center {
  text-align: center;
}

:where(#esgijoibib) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#esgijoibib) .gt_font_normal {
  font-weight: normal;
}

:where(#esgijoibib) .gt_font_bold {
  font-weight: bold;
}

:where(#esgijoibib) .gt_font_italic {
  font-style: italic;
}

:where(#esgijoibib) .gt_super {
  font-size: 65%;
}

:where(#esgijoibib) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#esgijoibib) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#esgijoibib) .gt_indent_1 {
  text-indent: 5px;
}

:where(#esgijoibib) .gt_indent_2 {
  text-indent: 10px;
}

:where(#esgijoibib) .gt_indent_3 {
  text-indent: 15px;
}

:where(#esgijoibib) .gt_indent_4 {
  text-indent: 20px;
}

:where(#esgijoibib) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="FOODSEC">FOODSEC</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="4">4</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="NA_">NA_</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="FOODSEC" class="gt_row gt_center">Full</td>
<td headers="1" class="gt_row gt_right">2247</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="FOODSEC" class="gt_row gt_center">Marginal</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">565</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="FOODSEC" class="gt_row gt_center">Low</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">503</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="FOODSEC" class="gt_row gt_center">Very Low</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">385</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="FOODSEC" class="gt_row gt_center">NA</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="4" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">231</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-snore-from-slq030" class="level3" data-number="1.13.9">
<h3 data-number="1.13.9" class="anchored" data-anchor-id="creating-snore-from-slq030"><span class="header-section-number">1.13.9</span> Creating SNORE from SLQ030</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 28%">
<col style="width: 34%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">SLQ030</td>
<td>How often do you snore?</td>
<td style="text-align: center;">0 = Never <br> 1 = Rarely (1-2 nights/week) <br> 2 = Occasionally (3-4 nights/week) <br> 3 = Frequently (5+ nights/week)</td>
<td style="text-align: right;">219</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SNORE =</span> </span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(SLQ030), </span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Never"</span> <span class="ot">=</span> <span class="st">"0"</span>, </span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Rarely"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Occasionally"</span> <span class="ot">=</span> <span class="st">"2"</span>,</span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Frequently"</span> <span class="ot">=</span> <span class="st">"3"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(SNORE, SLQ030) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="wapcrqbcdi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#wapcrqbcdi) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#wapcrqbcdi) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#wapcrqbcdi) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#wapcrqbcdi) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#wapcrqbcdi) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#wapcrqbcdi) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#wapcrqbcdi) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#wapcrqbcdi) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#wapcrqbcdi) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#wapcrqbcdi) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#wapcrqbcdi) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#wapcrqbcdi) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#wapcrqbcdi) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#wapcrqbcdi) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wapcrqbcdi) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#wapcrqbcdi) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#wapcrqbcdi) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wapcrqbcdi) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#wapcrqbcdi) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wapcrqbcdi) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#wapcrqbcdi) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wapcrqbcdi) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#wapcrqbcdi) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#wapcrqbcdi) .gt_left {
  text-align: left;
}

:where(#wapcrqbcdi) .gt_center {
  text-align: center;
}

:where(#wapcrqbcdi) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#wapcrqbcdi) .gt_font_normal {
  font-weight: normal;
}

:where(#wapcrqbcdi) .gt_font_bold {
  font-weight: bold;
}

:where(#wapcrqbcdi) .gt_font_italic {
  font-style: italic;
}

:where(#wapcrqbcdi) .gt_super {
  font-size: 65%;
}

:where(#wapcrqbcdi) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#wapcrqbcdi) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#wapcrqbcdi) .gt_indent_1 {
  text-indent: 5px;
}

:where(#wapcrqbcdi) .gt_indent_2 {
  text-indent: 10px;
}

:where(#wapcrqbcdi) .gt_indent_3 {
  text-indent: 15px;
}

:where(#wapcrqbcdi) .gt_indent_4 {
  text-indent: 20px;
}

:where(#wapcrqbcdi) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="SNORE">SNORE</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="0">0</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="NA_">NA_</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="SNORE" class="gt_row gt_center">Never</td>
<td headers="0" class="gt_row gt_right">855</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SNORE" class="gt_row gt_center">Rarely</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">959</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SNORE" class="gt_row gt_center">Occasionally</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">700</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SNORE" class="gt_row gt_center">Frequently</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">1198</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="SNORE" class="gt_row gt_center">NA</td>
<td headers="0" class="gt_row gt_right">0</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">219</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="creating-wtgoal-from-whq040" class="level3" data-number="1.13.10">
<h3 data-number="1.13.10" class="anchored" data-anchor-id="creating-wtgoal-from-whq040"><span class="header-section-number">1.13.10</span> Creating WTGOAL from WHQ040</h3>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 28%">
<col style="width: 34%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Variable</th>
<th>Description</th>
<th style="text-align: center;">Codes</th>
<th style="text-align: right;"># NAs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">WHQ040</td>
<td>Like to weigh more, less, or same?</td>
<td style="text-align: center;">1 = More <br> 2 = Less <br> 3 = Stay about the same</td>
<td style="text-align: right;">3</td>
</tr>
</tbody>
</table>
<p>Since there’s a natural ordering here (more then same then less) I’ll adapt it using the <code>fct_relevel()</code> function from the <strong>forcats</strong> package<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> for this variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WTGOAL =</span> </span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">fct_recode</span>(</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">factor</span>(WHQ040), </span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"More"</span> <span class="ot">=</span> <span class="st">"1"</span>, </span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Less"</span> <span class="ot">=</span> <span class="st">"2"</span>, </span>
<span id="cb130-7"><a href="#cb130-7" aria-hidden="true" tabindex="-1"></a>             <span class="st">"Same"</span> <span class="ot">=</span> <span class="st">"3"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb130-8"><a href="#cb130-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">WTGOAL =</span> <span class="fu">fct_relevel</span>(WTGOAL, <span class="st">"More"</span>, <span class="st">"Same"</span>, <span class="st">"Less"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="sc">|&gt;</span> <span class="fu">tabyl</span>(WTGOAL, WHQ040) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="iddoyhqiel" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#iddoyhqiel) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#iddoyhqiel) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#iddoyhqiel) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#iddoyhqiel) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#iddoyhqiel) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#iddoyhqiel) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#iddoyhqiel) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#iddoyhqiel) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#iddoyhqiel) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#iddoyhqiel) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#iddoyhqiel) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#iddoyhqiel) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#iddoyhqiel) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#iddoyhqiel) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iddoyhqiel) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#iddoyhqiel) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#iddoyhqiel) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iddoyhqiel) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#iddoyhqiel) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iddoyhqiel) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#iddoyhqiel) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iddoyhqiel) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#iddoyhqiel) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#iddoyhqiel) .gt_left {
  text-align: left;
}

:where(#iddoyhqiel) .gt_center {
  text-align: center;
}

:where(#iddoyhqiel) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#iddoyhqiel) .gt_font_normal {
  font-weight: normal;
}

:where(#iddoyhqiel) .gt_font_bold {
  font-weight: bold;
}

:where(#iddoyhqiel) .gt_font_italic {
  font-style: italic;
}

:where(#iddoyhqiel) .gt_super {
  font-size: 65%;
}

:where(#iddoyhqiel) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#iddoyhqiel) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#iddoyhqiel) .gt_indent_1 {
  text-indent: 5px;
}

:where(#iddoyhqiel) .gt_indent_2 {
  text-indent: 10px;
}

:where(#iddoyhqiel) .gt_indent_3 {
  text-indent: 15px;
}

:where(#iddoyhqiel) .gt_indent_4 {
  text-indent: 20px;
}

:where(#iddoyhqiel) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="WTGOAL">WTGOAL</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="1">1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="2">2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="3">3</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="NA_">NA_</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="WTGOAL" class="gt_row gt_center">More</td>
<td headers="1" class="gt_row gt_right">289</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="WTGOAL" class="gt_row gt_center">Same</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">974</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="WTGOAL" class="gt_row gt_center">Less</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">2665</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">0</td></tr>
    <tr><td headers="WTGOAL" class="gt_row gt_center">NA</td>
<td headers="1" class="gt_row gt_right">0</td>
<td headers="2" class="gt_row gt_right">0</td>
<td headers="3" class="gt_row gt_right">0</td>
<td headers="NA_" class="gt_row gt_right">3</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
</section>
<section id="dropping-variables" class="level2" data-number="1.14">
<h2 data-number="1.14" class="anchored" data-anchor-id="dropping-variables"><span class="header-section-number">1.14</span> Dropping Variables</h2>
<p>We’ll drop the following variables before saving an analytic tibble.</p>
<ul>
<li>Our two variables with no variation
<ul>
<li>RIDSTATR, OHDEXSTS</li>
</ul></li>
<li>Elements of the PHQ-9 we no longer need
<ul>
<li>nvalid_phq, DPQ010, DPQ020, DPQ030, DPQ040</li>
<li>DPQ050, DPQ060, DPQ070, DPQ080, DPQ090</li>
</ul></li>
<li>Multi-categorical variables that we renamed
<ul>
<li>RIDRETH3, DMDEDUC2, OHAREC, HUQ010, DEQ034D</li>
<li>DPQ100, DBQ700, FSDAD, SLQ030, WHQ040</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>nh_fixing <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(RIDSTATR, OHDEXSTS, nvalid_phq9, DPQ010, </span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>            DPQ020, DPQ030, DPQ040, DPQ050, DPQ060, </span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>            DPQ070, DPQ080, DPQ090, RIDRETH3, DMDEDUC2, </span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>            OHAREC, HUQ010, DEQ034D, DPQ100, DBQ700, </span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>            FSDAD, SLQ030, WHQ040))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="resorting-variables" class="level2" data-number="1.15">
<h2 data-number="1.15" class="anchored" data-anchor-id="resorting-variables"><span class="header-section-number">1.15</span> Resorting Variables</h2>
<p>I’d like to have the variables in the following order:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>nh432 <span class="ot">&lt;-</span> nh_fixing <span class="sc">|&gt;</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(SEQN, AGE, RACEETH, EDUC, SEX, INSURNOW, </span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>         NOINSUR, SROH, WEIGHT, HEIGHT, WAIST, </span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>         SBP, DBP, PULSE1, PULSE2, WBC, PLATELET, HSCRP, </span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>         DR_LOSE, DR_EXER, NOW_LOSE, NOW_EXER,</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>         ESTHT, ESTWT, WTGOAL, DIETQUAL, FOODSEC, </span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>         WORK_V, VIGWK_D, REC_V, VIGREC_D, SEDATE, </span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>         PHQ9, PHQ9_CAT, DEPRDIFF, MENTALH, </span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a>         SLPWKDAY, SLPWKEND, SLPTROUB, SNORE,</span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a>         HOSPITAL, EVERALC, DRINKS, CIG100, SMOKE30,</span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a>         AWAYWORK, AWAYREST, AWAYBAR, DENTAL, FLOSS, </span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a>         EVERPREG, PREGS, SUNSCR, WTINTPRP, WTMECPRP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="nh432-analytic-tibble" class="level2" data-number="1.16">
<h2 data-number="1.16" class="anchored" data-anchor-id="nh432-analytic-tibble"><span class="header-section-number">1.16</span> <code>nh432</code> analytic tibble</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>nh432</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,931 × 55
   SEQN     AGE RACEETH    EDUC  SEX   INSUR…¹ NOINSUR SROH  WEIGHT HEIGHT WAIST
   &lt;chr&gt;  &lt;dbl&gt; &lt;fct&gt;      &lt;fct&gt; &lt;fct&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;fct&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1 109271    49 Non-H Whi… 9th … Male        1       0 Fair    98.8   182. 120. 
 2 109273    36 Non-H Whi… Some… Male        1       1 Good    74.3   184.  86.8
 3 109284    44 Hispanic   9th … Fema…       0       1 Fair    91.1   153. 103. 
 4 109291    42 Non-H Asi… Coll… Fema…       1       0 Fair    81.4   161.  NA  
 5 109292    58 Hispanic   High… Male        1       0 Very…   86     168. 108. 
 6 109293    44 Non-H Whi… High… Male        1       0 Good    99.4   182. 107  
 7 109295    54 Hispanic   Less… Fema…       1       0 Good    61.7   157.  90.5
 8 109297    30 Non-H Asi… Some… Fema…       1       0 Very…   55.4   155.  73.2
 9 109300    54 Non-H Asi… Coll… Fema…       1       0 Exce…   62     145.  84.8
10 109305    55 Non-H Asi… Coll… Male        1       0 Good    64     175.  82.5
# … with 3,921 more rows, 44 more variables: SBP &lt;dbl&gt;, DBP &lt;dbl&gt;,
#   PULSE1 &lt;dbl&gt;, PULSE2 &lt;dbl&gt;, WBC &lt;dbl&gt;, PLATELET &lt;dbl&gt;, HSCRP &lt;dbl&gt;,
#   DR_LOSE &lt;dbl&gt;, DR_EXER &lt;dbl&gt;, NOW_LOSE &lt;dbl&gt;, NOW_EXER &lt;dbl&gt;, ESTHT &lt;dbl&gt;,
#   ESTWT &lt;dbl&gt;, WTGOAL &lt;fct&gt;, DIETQUAL &lt;fct&gt;, FOODSEC &lt;fct&gt;, WORK_V &lt;dbl&gt;,
#   VIGWK_D &lt;dbl&gt;, REC_V &lt;dbl&gt;, VIGREC_D &lt;dbl&gt;, SEDATE &lt;dbl&gt;, PHQ9 &lt;int&gt;,
#   PHQ9_CAT &lt;fct&gt;, DEPRDIFF &lt;fct&gt;, MENTALH &lt;dbl&gt;, SLPWKDAY &lt;dbl&gt;,
#   SLPWKEND &lt;dbl&gt;, SLPTROUB &lt;dbl&gt;, SNORE &lt;fct&gt;, HOSPITAL &lt;dbl&gt;, …</code></pre>
</div>
</div>
<section id="saving-the-tibble-as-nh432.rds" class="level3" data-number="1.16.1">
<h3 data-number="1.16.1" class="anchored" data-anchor-id="saving-the-tibble-as-nh432.rds"><span class="header-section-number">1.16.1</span> Saving the tibble as <code>nh432.Rds</code></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(nh432, <span class="st">"data/nh432.Rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Those over 80 years of age are coded 80.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Those who responded with 15 drinks or more are coded 15.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>For more on the <code>purrr</code> package, visit <a href="https://purrr.tidyverse.org/" class="uri">https://purrr.tidyverse.org/</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>For more on <code>replace_with_na()</code>, visit <a href="https://naniar.njtierney.com/articles/replace-with-na.html" class="uri">https://naniar.njtierney.com/articles/replace-with-na.html</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Sanity checks are a great idea while in the midst of coding, but can confuse the reader and thus should not be included in 432 submitted work.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>For more on the <code>across()</code> function and how it can be used, visit <a href="https://dplyr.tidyverse.org/reference/across.html" class="uri">https://dplyr.tidyverse.org/reference/across.html</a>.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>See <a href="https://pubmed.ncbi.nlm.nih.gov/20633738/">Kroenke et al.&nbsp;2010</a><a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Again, see Kroenke et al.&nbsp;(2010) at <a href="https://pubmed.ncbi.nlm.nih.gov/20633738/" class="uri">https://pubmed.ncbi.nlm.nih.gov/20633738/</a>.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>Again, I wouldn’t usually include this sort of coding check in published work, like either of your 432 Projects.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>https://forcats.tidyverse.org/ is the home of forcats, although the Factors chapter at <a href="https://r4ds.hadley.nz/factors.html" class="uri">https://r4ds.hadley.nz/factors.html</a> in R for Data Science, 2nd edition is also helpful.<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./setup.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">R Setup</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02-nh432cb.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Codebook for <code>nh432</code></span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>